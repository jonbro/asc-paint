/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/process/0.11.10/node_modules/process/browser.js":
/*!**********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/process/0.11.10/node_modules/process/browser.js ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/process/0.11.10/node_modules/process/browser.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/color.js":
/*!********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/color.js ***!
  \********************************************************************************************************************************************/
/*! exports provided: fromString, add, add_, multiply, multiply_, interpolate, lerp, interpolateHSL, lerpHSL, randomize, rgb2hsl, hsl2rgb, toRGB, toHex */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fromString\", function() { return fromString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"add\", function() { return add; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"add_\", function() { return add_; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"multiply\", function() { return multiply; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"multiply_\", function() { return multiply_; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interpolate\", function() { return interpolate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lerp\", function() { return lerp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interpolateHSL\", function() { return interpolateHSL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lerpHSL\", function() { return lerpHSL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randomize\", function() { return randomize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgb2hsl\", function() { return rgb2hsl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hsl2rgb\", function() { return hsl2rgb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toRGB\", function() { return toRGB; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toHex\", function() { return toHex; });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n\nfunction fromString(str) {\n    let cached, r;\n    if (str in CACHE) {\n        cached = CACHE[str];\n    }\n    else {\n        if (str.charAt(0) == \"#\") {\n            let matched = str.match(/[0-9a-f]/gi) || [];\n            let values = matched.map((x) => parseInt(x, 16));\n            if (values.length == 3) {\n                cached = values.map((x) => x * 17);\n            }\n            else {\n                for (let i = 0; i < 3; i++) {\n                    values[i + 1] += 16 * values[i];\n                    values.splice(i, 1);\n                }\n                cached = values;\n            }\n        }\n        else if ((r = str.match(/rgb\\(([0-9, ]+)\\)/i))) {\n            cached = r[1].split(/\\s*,\\s*/).map((x) => parseInt(x));\n        }\n        else {\n            cached = [0, 0, 0];\n        }\n        CACHE[str] = cached;\n    }\n    return cached.slice();\n}\nfunction add(color1, ...colors) {\n    let result = color1.slice();\n    for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < colors.length; j++) {\n            result[i] += colors[j][i];\n        }\n    }\n    return result;\n}\nfunction add_(color1, ...colors) {\n    for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < colors.length; j++) {\n            color1[i] += colors[j][i];\n        }\n    }\n    return color1;\n}\nfunction multiply(color1, ...colors) {\n    let result = color1.slice();\n    for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < colors.length; j++) {\n            result[i] *= colors[j][i] / 255;\n        }\n        result[i] = Math.round(result[i]);\n    }\n    return result;\n}\nfunction multiply_(color1, ...colors) {\n    for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < colors.length; j++) {\n            color1[i] *= colors[j][i] / 255;\n        }\n        color1[i] = Math.round(color1[i]);\n    }\n    return color1;\n}\nfunction interpolate(color1, color2, factor = 0.5) {\n    let result = color1.slice();\n    for (let i = 0; i < 3; i++) {\n        result[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));\n    }\n    return result;\n}\nconst lerp = interpolate;\nfunction interpolateHSL(color1, color2, factor = 0.5) {\n    let hsl1 = rgb2hsl(color1);\n    let hsl2 = rgb2hsl(color2);\n    for (let i = 0; i < 3; i++) {\n        hsl1[i] += factor * (hsl2[i] - hsl1[i]);\n    }\n    return hsl2rgb(hsl1);\n}\nconst lerpHSL = interpolateHSL;\nfunction randomize(color, diff) {\n    if (!(diff instanceof Array)) {\n        diff = Math.round(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getNormal(0, diff));\n    }\n    let result = color.slice();\n    for (let i = 0; i < 3; i++) {\n        result[i] += (diff instanceof Array ? Math.round(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getNormal(0, diff[i])) : diff);\n    }\n    return result;\n}\nfunction rgb2hsl(color) {\n    let r = color[0] / 255;\n    let g = color[1] / 255;\n    let b = color[2] / 255;\n    let max = Math.max(r, g, b), min = Math.min(r, g, b);\n    let h = 0, s, l = (max + min) / 2;\n    if (max == min) {\n        s = 0;\n    }\n    else {\n        let d = max - min;\n        s = (l > 0.5 ? d / (2 - max - min) : d / (max + min));\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n        h /= 6;\n    }\n    return [h, s, l];\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hsl2rgb(color) {\n    let l = color[2];\n    if (color[1] == 0) {\n        l = Math.round(l * 255);\n        return [l, l, l];\n    }\n    else {\n        let s = color[1];\n        let q = (l < 0.5 ? l * (1 + s) : l + s - l * s);\n        let p = 2 * l - q;\n        let r = hue2rgb(p, q, color[0] + 1 / 3);\n        let g = hue2rgb(p, q, color[0]);\n        let b = hue2rgb(p, q, color[0] - 1 / 3);\n        return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n    }\n}\nfunction toRGB(color) {\n    let clamped = color.map(x => Object(_util_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(x, 0, 255));\n    return `rgb(${clamped.join(\",\")})`;\n}\nfunction toHex(color) {\n    let clamped = color.map(x => Object(_util_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(x, 0, 255).toString(16).padStart(2, \"0\"));\n    return `#${clamped.join(\"\")}`;\n}\nconst CACHE = {\n    \"black\": [0, 0, 0],\n    \"navy\": [0, 0, 128],\n    \"darkblue\": [0, 0, 139],\n    \"mediumblue\": [0, 0, 205],\n    \"blue\": [0, 0, 255],\n    \"darkgreen\": [0, 100, 0],\n    \"green\": [0, 128, 0],\n    \"teal\": [0, 128, 128],\n    \"darkcyan\": [0, 139, 139],\n    \"deepskyblue\": [0, 191, 255],\n    \"darkturquoise\": [0, 206, 209],\n    \"mediumspringgreen\": [0, 250, 154],\n    \"lime\": [0, 255, 0],\n    \"springgreen\": [0, 255, 127],\n    \"aqua\": [0, 255, 255],\n    \"cyan\": [0, 255, 255],\n    \"midnightblue\": [25, 25, 112],\n    \"dodgerblue\": [30, 144, 255],\n    \"forestgreen\": [34, 139, 34],\n    \"seagreen\": [46, 139, 87],\n    \"darkslategray\": [47, 79, 79],\n    \"darkslategrey\": [47, 79, 79],\n    \"limegreen\": [50, 205, 50],\n    \"mediumseagreen\": [60, 179, 113],\n    \"turquoise\": [64, 224, 208],\n    \"royalblue\": [65, 105, 225],\n    \"steelblue\": [70, 130, 180],\n    \"darkslateblue\": [72, 61, 139],\n    \"mediumturquoise\": [72, 209, 204],\n    \"indigo\": [75, 0, 130],\n    \"darkolivegreen\": [85, 107, 47],\n    \"cadetblue\": [95, 158, 160],\n    \"cornflowerblue\": [100, 149, 237],\n    \"mediumaquamarine\": [102, 205, 170],\n    \"dimgray\": [105, 105, 105],\n    \"dimgrey\": [105, 105, 105],\n    \"slateblue\": [106, 90, 205],\n    \"olivedrab\": [107, 142, 35],\n    \"slategray\": [112, 128, 144],\n    \"slategrey\": [112, 128, 144],\n    \"lightslategray\": [119, 136, 153],\n    \"lightslategrey\": [119, 136, 153],\n    \"mediumslateblue\": [123, 104, 238],\n    \"lawngreen\": [124, 252, 0],\n    \"chartreuse\": [127, 255, 0],\n    \"aquamarine\": [127, 255, 212],\n    \"maroon\": [128, 0, 0],\n    \"purple\": [128, 0, 128],\n    \"olive\": [128, 128, 0],\n    \"gray\": [128, 128, 128],\n    \"grey\": [128, 128, 128],\n    \"skyblue\": [135, 206, 235],\n    \"lightskyblue\": [135, 206, 250],\n    \"blueviolet\": [138, 43, 226],\n    \"darkred\": [139, 0, 0],\n    \"darkmagenta\": [139, 0, 139],\n    \"saddlebrown\": [139, 69, 19],\n    \"darkseagreen\": [143, 188, 143],\n    \"lightgreen\": [144, 238, 144],\n    \"mediumpurple\": [147, 112, 216],\n    \"darkviolet\": [148, 0, 211],\n    \"palegreen\": [152, 251, 152],\n    \"darkorchid\": [153, 50, 204],\n    \"yellowgreen\": [154, 205, 50],\n    \"sienna\": [160, 82, 45],\n    \"brown\": [165, 42, 42],\n    \"darkgray\": [169, 169, 169],\n    \"darkgrey\": [169, 169, 169],\n    \"lightblue\": [173, 216, 230],\n    \"greenyellow\": [173, 255, 47],\n    \"paleturquoise\": [175, 238, 238],\n    \"lightsteelblue\": [176, 196, 222],\n    \"powderblue\": [176, 224, 230],\n    \"firebrick\": [178, 34, 34],\n    \"darkgoldenrod\": [184, 134, 11],\n    \"mediumorchid\": [186, 85, 211],\n    \"rosybrown\": [188, 143, 143],\n    \"darkkhaki\": [189, 183, 107],\n    \"silver\": [192, 192, 192],\n    \"mediumvioletred\": [199, 21, 133],\n    \"indianred\": [205, 92, 92],\n    \"peru\": [205, 133, 63],\n    \"chocolate\": [210, 105, 30],\n    \"tan\": [210, 180, 140],\n    \"lightgray\": [211, 211, 211],\n    \"lightgrey\": [211, 211, 211],\n    \"palevioletred\": [216, 112, 147],\n    \"thistle\": [216, 191, 216],\n    \"orchid\": [218, 112, 214],\n    \"goldenrod\": [218, 165, 32],\n    \"crimson\": [220, 20, 60],\n    \"gainsboro\": [220, 220, 220],\n    \"plum\": [221, 160, 221],\n    \"burlywood\": [222, 184, 135],\n    \"lightcyan\": [224, 255, 255],\n    \"lavender\": [230, 230, 250],\n    \"darksalmon\": [233, 150, 122],\n    \"violet\": [238, 130, 238],\n    \"palegoldenrod\": [238, 232, 170],\n    \"lightcoral\": [240, 128, 128],\n    \"khaki\": [240, 230, 140],\n    \"aliceblue\": [240, 248, 255],\n    \"honeydew\": [240, 255, 240],\n    \"azure\": [240, 255, 255],\n    \"sandybrown\": [244, 164, 96],\n    \"wheat\": [245, 222, 179],\n    \"beige\": [245, 245, 220],\n    \"whitesmoke\": [245, 245, 245],\n    \"mintcream\": [245, 255, 250],\n    \"ghostwhite\": [248, 248, 255],\n    \"salmon\": [250, 128, 114],\n    \"antiquewhite\": [250, 235, 215],\n    \"linen\": [250, 240, 230],\n    \"lightgoldenrodyellow\": [250, 250, 210],\n    \"oldlace\": [253, 245, 230],\n    \"red\": [255, 0, 0],\n    \"fuchsia\": [255, 0, 255],\n    \"magenta\": [255, 0, 255],\n    \"deeppink\": [255, 20, 147],\n    \"orangered\": [255, 69, 0],\n    \"tomato\": [255, 99, 71],\n    \"hotpink\": [255, 105, 180],\n    \"coral\": [255, 127, 80],\n    \"darkorange\": [255, 140, 0],\n    \"lightsalmon\": [255, 160, 122],\n    \"orange\": [255, 165, 0],\n    \"lightpink\": [255, 182, 193],\n    \"pink\": [255, 192, 203],\n    \"gold\": [255, 215, 0],\n    \"peachpuff\": [255, 218, 185],\n    \"navajowhite\": [255, 222, 173],\n    \"moccasin\": [255, 228, 181],\n    \"bisque\": [255, 228, 196],\n    \"mistyrose\": [255, 228, 225],\n    \"blanchedalmond\": [255, 235, 205],\n    \"papayawhip\": [255, 239, 213],\n    \"lavenderblush\": [255, 240, 245],\n    \"seashell\": [255, 245, 238],\n    \"cornsilk\": [255, 248, 220],\n    \"lemonchiffon\": [255, 250, 205],\n    \"floralwhite\": [255, 250, 240],\n    \"snow\": [255, 250, 250],\n    \"yellow\": [255, 255, 0],\n    \"lightyellow\": [255, 255, 224],\n    \"ivory\": [255, 255, 240],\n    \"white\": [255, 255, 255]\n};\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/color.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js":
/*!************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js ***!
  \************************************************************************************************************************************************/
/*! exports provided: DEFAULT_WIDTH, DEFAULT_HEIGHT, DIRS, KEYS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_WIDTH\", function() { return DEFAULT_WIDTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_HEIGHT\", function() { return DEFAULT_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DIRS\", function() { return DIRS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KEYS\", function() { return KEYS; });\nlet DEFAULT_WIDTH = 80;\nlet DEFAULT_HEIGHT = 25;\nconst DIRS = {\n    4: [[0, -1], [1, 0], [0, 1], [-1, 0]],\n    8: [[0, -1], [1, -1], [1, 0], [1, 1], [0, 1], [-1, 1], [-1, 0], [-1, -1]],\n    6: [[-1, -1], [1, -1], [2, 0], [1, 1], [-1, 1], [-2, 0]]\n};\nconst KEYS = {\n    VK_CANCEL: 3,\n    VK_HELP: 6,\n    VK_BACK_SPACE: 8,\n    VK_TAB: 9,\n    VK_CLEAR: 12,\n    VK_RETURN: 13,\n    VK_ENTER: 14,\n    VK_SHIFT: 16,\n    VK_CONTROL: 17,\n    VK_ALT: 18,\n    VK_PAUSE: 19,\n    VK_CAPS_LOCK: 20,\n    VK_ESCAPE: 27,\n    VK_SPACE: 32,\n    VK_PAGE_UP: 33,\n    VK_PAGE_DOWN: 34,\n    VK_END: 35,\n    VK_HOME: 36,\n    VK_LEFT: 37,\n    VK_UP: 38,\n    VK_RIGHT: 39,\n    VK_DOWN: 40,\n    VK_PRINTSCREEN: 44,\n    VK_INSERT: 45,\n    VK_DELETE: 46,\n    VK_0: 48,\n    VK_1: 49,\n    VK_2: 50,\n    VK_3: 51,\n    VK_4: 52,\n    VK_5: 53,\n    VK_6: 54,\n    VK_7: 55,\n    VK_8: 56,\n    VK_9: 57,\n    VK_COLON: 58,\n    VK_SEMICOLON: 59,\n    VK_LESS_THAN: 60,\n    VK_EQUALS: 61,\n    VK_GREATER_THAN: 62,\n    VK_QUESTION_MARK: 63,\n    VK_AT: 64,\n    VK_A: 65,\n    VK_B: 66,\n    VK_C: 67,\n    VK_D: 68,\n    VK_E: 69,\n    VK_F: 70,\n    VK_G: 71,\n    VK_H: 72,\n    VK_I: 73,\n    VK_J: 74,\n    VK_K: 75,\n    VK_L: 76,\n    VK_M: 77,\n    VK_N: 78,\n    VK_O: 79,\n    VK_P: 80,\n    VK_Q: 81,\n    VK_R: 82,\n    VK_S: 83,\n    VK_T: 84,\n    VK_U: 85,\n    VK_V: 86,\n    VK_W: 87,\n    VK_X: 88,\n    VK_Y: 89,\n    VK_Z: 90,\n    VK_CONTEXT_MENU: 93,\n    VK_NUMPAD0: 96,\n    VK_NUMPAD1: 97,\n    VK_NUMPAD2: 98,\n    VK_NUMPAD3: 99,\n    VK_NUMPAD4: 100,\n    VK_NUMPAD5: 101,\n    VK_NUMPAD6: 102,\n    VK_NUMPAD7: 103,\n    VK_NUMPAD8: 104,\n    VK_NUMPAD9: 105,\n    VK_MULTIPLY: 106,\n    VK_ADD: 107,\n    VK_SEPARATOR: 108,\n    VK_SUBTRACT: 109,\n    VK_DECIMAL: 110,\n    VK_DIVIDE: 111,\n    VK_F1: 112,\n    VK_F2: 113,\n    VK_F3: 114,\n    VK_F4: 115,\n    VK_F5: 116,\n    VK_F6: 117,\n    VK_F7: 118,\n    VK_F8: 119,\n    VK_F9: 120,\n    VK_F10: 121,\n    VK_F11: 122,\n    VK_F12: 123,\n    VK_F13: 124,\n    VK_F14: 125,\n    VK_F15: 126,\n    VK_F16: 127,\n    VK_F17: 128,\n    VK_F18: 129,\n    VK_F19: 130,\n    VK_F20: 131,\n    VK_F21: 132,\n    VK_F22: 133,\n    VK_F23: 134,\n    VK_F24: 135,\n    VK_NUM_LOCK: 144,\n    VK_SCROLL_LOCK: 145,\n    VK_CIRCUMFLEX: 160,\n    VK_EXCLAMATION: 161,\n    VK_DOUBLE_QUOTE: 162,\n    VK_HASH: 163,\n    VK_DOLLAR: 164,\n    VK_PERCENT: 165,\n    VK_AMPERSAND: 166,\n    VK_UNDERSCORE: 167,\n    VK_OPEN_PAREN: 168,\n    VK_CLOSE_PAREN: 169,\n    VK_ASTERISK: 170,\n    VK_PLUS: 171,\n    VK_PIPE: 172,\n    VK_HYPHEN_MINUS: 173,\n    VK_OPEN_CURLY_BRACKET: 174,\n    VK_CLOSE_CURLY_BRACKET: 175,\n    VK_TILDE: 176,\n    VK_COMMA: 188,\n    VK_PERIOD: 190,\n    VK_SLASH: 191,\n    VK_BACK_QUOTE: 192,\n    VK_OPEN_BRACKET: 219,\n    VK_BACK_SLASH: 220,\n    VK_CLOSE_BRACKET: 221,\n    VK_QUOTE: 222,\n    VK_META: 224,\n    VK_ALTGR: 225,\n    VK_WIN: 91,\n    VK_KANA: 21,\n    VK_HANGUL: 21,\n    VK_EISU: 22,\n    VK_JUNJA: 23,\n    VK_FINAL: 24,\n    VK_HANJA: 25,\n    VK_KANJI: 25,\n    VK_CONVERT: 28,\n    VK_NONCONVERT: 29,\n    VK_ACCEPT: 30,\n    VK_MODECHANGE: 31,\n    VK_SELECT: 41,\n    VK_PRINT: 42,\n    VK_EXECUTE: 43,\n    VK_SLEEP: 95\n};\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/backend.js":
/*!******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/backend.js ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Backend; });\nclass Backend {\n    getContainer() { return null; }\n    setOptions(options) { this._options = options; }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/backend.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/canvas.js":
/*!*****************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/canvas.js ***!
  \*****************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Canvas; });\n/* harmony import */ var _backend_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./backend.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/backend.js\");\n\nclass Canvas extends _backend_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this._ctx = document.createElement(\"canvas\").getContext(\"2d\");\n    }\n    schedule(cb) { requestAnimationFrame(cb); }\n    getContainer() { return this._ctx.canvas; }\n    setOptions(opts) {\n        super.setOptions(opts);\n        const style = (opts.fontStyle ? `${opts.fontStyle} ` : ``);\n        const font = `${style} ${opts.fontSize}px ${opts.fontFamily}`;\n        this._ctx.font = font;\n        this._updateSize();\n        this._ctx.font = font;\n        this._ctx.textAlign = \"center\";\n        this._ctx.textBaseline = \"middle\";\n    }\n    clear() {\n        this._ctx.fillStyle = this._options.bg;\n        this._ctx.fillRect(0, 0, this._ctx.canvas.width, this._ctx.canvas.height);\n    }\n    eventToPosition(x, y) {\n        let canvas = this._ctx.canvas;\n        let rect = canvas.getBoundingClientRect();\n        x -= rect.left;\n        y -= rect.top;\n        x *= canvas.width / rect.width;\n        y *= canvas.height / rect.height;\n        if (x < 0 || y < 0 || x >= canvas.width || y >= canvas.height) {\n            return [-1, -1];\n        }\n        return this._normalizedEventToPosition(x, y);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/canvas.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/display.js":
/*!******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/display.js ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Display; });\n/* harmony import */ var _hex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hex.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/hex.js\");\n/* harmony import */ var _rect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rect.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/rect.js\");\n/* harmony import */ var _tile_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tile.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/tile.js\");\n/* harmony import */ var _term_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./term.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/term.js\");\n/* harmony import */ var _text_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../text.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/text.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n\n\n\n\n\n\nconst BACKENDS = {\n    \"hex\": _hex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    \"rect\": _rect_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    \"tile\": _tile_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    \"term\": _term_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n};\nconst DEFAULT_OPTIONS = {\n    width: _constants_js__WEBPACK_IMPORTED_MODULE_5__[\"DEFAULT_WIDTH\"],\n    height: _constants_js__WEBPACK_IMPORTED_MODULE_5__[\"DEFAULT_HEIGHT\"],\n    transpose: false,\n    layout: \"rect\",\n    fontSize: 15,\n    spacing: 1,\n    border: 0,\n    forceSquareRatio: false,\n    fontFamily: \"monospace\",\n    fontStyle: \"\",\n    fg: \"#ccc\",\n    bg: \"#000\",\n    tileWidth: 32,\n    tileHeight: 32,\n    tileMap: {},\n    tileSet: null,\n    tileColorize: false\n};\nclass Display {\n    constructor(options = {}) {\n        this._data = {};\n        this._dirty = false;\n        this._options = {};\n        options = Object.assign({}, DEFAULT_OPTIONS, options);\n        this.setOptions(options);\n        this.DEBUG = this.DEBUG.bind(this);\n        this._tick = this._tick.bind(this);\n        this._backend.schedule(this._tick);\n    }\n    DEBUG(x, y, what) {\n        let colors = [this._options.bg, this._options.fg];\n        this.draw(x, y, null, null, colors[what % colors.length]);\n    }\n    clear() {\n        this._data = {};\n        this._dirty = true;\n    }\n    setOptions(options) {\n        Object.assign(this._options, options);\n        if (options.width || options.height || options.fontSize || options.fontFamily || options.spacing || options.layout) {\n            if (options.layout) {\n                let ctor = BACKENDS[options.layout];\n                this._backend = new ctor();\n            }\n            this._backend.setOptions(this._options);\n            this._dirty = true;\n        }\n        return this;\n    }\n    getOptions() { return this._options; }\n    getContainer() { return this._backend.getContainer(); }\n    computeSize(availWidth, availHeight) {\n        return this._backend.computeSize(availWidth, availHeight);\n    }\n    computeFontSize(availWidth, availHeight) {\n        return this._backend.computeFontSize(availWidth, availHeight);\n    }\n    computeTileSize(availWidth, availHeight) {\n        let width = Math.floor(availWidth / this._options.width);\n        let height = Math.floor(availHeight / this._options.height);\n        return [width, height];\n    }\n    eventToPosition(e) {\n        let x, y;\n        if (\"touches\" in e) {\n            x = e.touches[0].clientX;\n            y = e.touches[0].clientY;\n        }\n        else {\n            x = e.clientX;\n            y = e.clientY;\n        }\n        return this._backend.eventToPosition(x, y);\n    }\n    draw(x, y, ch, fg, bg) {\n        if (!fg) {\n            fg = this._options.fg;\n        }\n        if (!bg) {\n            bg = this._options.bg;\n        }\n        let key = `${x},${y}`;\n        this._data[key] = [x, y, ch, fg, bg];\n        if (this._dirty === true) {\n            return;\n        }\n        if (!this._dirty) {\n            this._dirty = {};\n        }\n        this._dirty[key] = true;\n    }\n    drawText(x, y, text, maxWidth) {\n        let fg = null;\n        let bg = null;\n        let cx = x;\n        let cy = y;\n        let lines = 1;\n        if (!maxWidth) {\n            maxWidth = this._options.width - x;\n        }\n        let tokens = _text_js__WEBPACK_IMPORTED_MODULE_4__[\"tokenize\"](text, maxWidth);\n        while (tokens.length) {\n            let token = tokens.shift();\n            switch (token.type) {\n                case _text_js__WEBPACK_IMPORTED_MODULE_4__[\"TYPE_TEXT\"]:\n                    let isSpace = false, isPrevSpace = false, isFullWidth = false, isPrevFullWidth = false;\n                    for (let i = 0; i < token.value.length; i++) {\n                        let cc = token.value.charCodeAt(i);\n                        let c = token.value.charAt(i);\n                        isFullWidth = (cc > 0xff00 && cc < 0xff61) || (cc > 0xffdc && cc < 0xffe8) || cc > 0xffee;\n                        isSpace = (c.charCodeAt(0) == 0x20 || c.charCodeAt(0) == 0x3000);\n                        if (isPrevFullWidth && !isFullWidth && !isSpace) {\n                            cx++;\n                        }\n                        if (isFullWidth && !isPrevSpace) {\n                            cx++;\n                        }\n                        this.draw(cx++, cy, c, fg, bg);\n                        isPrevSpace = isSpace;\n                        isPrevFullWidth = isFullWidth;\n                    }\n                    break;\n                case _text_js__WEBPACK_IMPORTED_MODULE_4__[\"TYPE_FG\"]:\n                    fg = token.value || null;\n                    break;\n                case _text_js__WEBPACK_IMPORTED_MODULE_4__[\"TYPE_BG\"]:\n                    bg = token.value || null;\n                    break;\n                case _text_js__WEBPACK_IMPORTED_MODULE_4__[\"TYPE_NEWLINE\"]:\n                    cx = x;\n                    cy++;\n                    lines++;\n                    break;\n            }\n        }\n        return lines;\n    }\n    _tick() {\n        this._backend.schedule(this._tick);\n        if (!this._dirty) {\n            return;\n        }\n        if (this._dirty === true) {\n            this._backend.clear();\n            for (let id in this._data) {\n                this._draw(id, false);\n            }\n        }\n        else {\n            for (let key in this._dirty) {\n                this._draw(key, true);\n            }\n        }\n        this._dirty = false;\n    }\n    _draw(key, clearBefore) {\n        let data = this._data[key];\n        if (data[4] != this._options.bg) {\n            clearBefore = true;\n        }\n        this._backend.draw(data, clearBefore);\n    }\n}\nDisplay.Rect = _rect_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nDisplay.Hex = _hex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nDisplay.Tile = _tile_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nDisplay.Term = _term_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/display.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/hex.js":
/*!**************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/hex.js ***!
  \**************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Hex; });\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./canvas.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/canvas.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js\");\n\n\nclass Hex extends _canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this._spacingX = 0;\n        this._spacingY = 0;\n        this._hexSize = 0;\n    }\n    draw(data, clearBefore) {\n        let [x, y, ch, fg, bg] = data;\n        let px = [\n            (x + 1) * this._spacingX,\n            y * this._spacingY + this._hexSize\n        ];\n        if (this._options.transpose) {\n            px.reverse();\n        }\n        if (clearBefore) {\n            this._ctx.fillStyle = bg;\n            this._fill(px[0], px[1]);\n        }\n        if (!ch) {\n            return;\n        }\n        this._ctx.fillStyle = fg;\n        let chars = [].concat(ch);\n        for (let i = 0; i < chars.length; i++) {\n            this._ctx.fillText(chars[i], px[0], Math.ceil(px[1]));\n        }\n    }\n    computeSize(availWidth, availHeight) {\n        if (this._options.transpose) {\n            availWidth += availHeight;\n            availHeight = availWidth - availHeight;\n            availWidth -= availHeight;\n        }\n        let width = Math.floor(availWidth / this._spacingX) - 1;\n        let height = Math.floor((availHeight - 2 * this._hexSize) / this._spacingY + 1);\n        return [width, height];\n    }\n    computeFontSize(availWidth, availHeight) {\n        if (this._options.transpose) {\n            availWidth += availHeight;\n            availHeight = availWidth - availHeight;\n            availWidth -= availHeight;\n        }\n        let hexSizeWidth = 2 * availWidth / ((this._options.width + 1) * Math.sqrt(3)) - 1;\n        let hexSizeHeight = availHeight / (2 + 1.5 * (this._options.height - 1));\n        let hexSize = Math.min(hexSizeWidth, hexSizeHeight);\n        let oldFont = this._ctx.font;\n        this._ctx.font = \"100px \" + this._options.fontFamily;\n        let width = Math.ceil(this._ctx.measureText(\"W\").width);\n        this._ctx.font = oldFont;\n        let ratio = width / 100;\n        hexSize = Math.floor(hexSize) + 1;\n        let fontSize = 2 * hexSize / (this._options.spacing * (1 + ratio / Math.sqrt(3)));\n        return Math.ceil(fontSize) - 1;\n    }\n    _normalizedEventToPosition(x, y) {\n        let nodeSize;\n        if (this._options.transpose) {\n            x += y;\n            y = x - y;\n            x -= y;\n            nodeSize = this._ctx.canvas.width;\n        }\n        else {\n            nodeSize = this._ctx.canvas.height;\n        }\n        let size = nodeSize / this._options.height;\n        y = Math.floor(y / size);\n        if (Object(_util_js__WEBPACK_IMPORTED_MODULE_1__[\"mod\"])(y, 2)) {\n            x -= this._spacingX;\n            x = 1 + 2 * Math.floor(x / (2 * this._spacingX));\n        }\n        else {\n            x = 2 * Math.floor(x / (2 * this._spacingX));\n        }\n        return [x, y];\n    }\n    _fill(cx, cy) {\n        let a = this._hexSize;\n        let b = this._options.border;\n        const ctx = this._ctx;\n        ctx.beginPath();\n        if (this._options.transpose) {\n            ctx.moveTo(cx - a + b, cy);\n            ctx.lineTo(cx - a / 2 + b, cy + this._spacingX - b);\n            ctx.lineTo(cx + a / 2 - b, cy + this._spacingX - b);\n            ctx.lineTo(cx + a - b, cy);\n            ctx.lineTo(cx + a / 2 - b, cy - this._spacingX + b);\n            ctx.lineTo(cx - a / 2 + b, cy - this._spacingX + b);\n            ctx.lineTo(cx - a + b, cy);\n        }\n        else {\n            ctx.moveTo(cx, cy - a + b);\n            ctx.lineTo(cx + this._spacingX - b, cy - a / 2 + b);\n            ctx.lineTo(cx + this._spacingX - b, cy + a / 2 - b);\n            ctx.lineTo(cx, cy + a - b);\n            ctx.lineTo(cx - this._spacingX + b, cy + a / 2 - b);\n            ctx.lineTo(cx - this._spacingX + b, cy - a / 2 + b);\n            ctx.lineTo(cx, cy - a + b);\n        }\n        ctx.fill();\n    }\n    _updateSize() {\n        const opts = this._options;\n        const charWidth = Math.ceil(this._ctx.measureText(\"W\").width);\n        this._hexSize = Math.floor(opts.spacing * (opts.fontSize + charWidth / Math.sqrt(3)) / 2);\n        this._spacingX = this._hexSize * Math.sqrt(3) / 2;\n        this._spacingY = this._hexSize * 1.5;\n        let xprop;\n        let yprop;\n        if (opts.transpose) {\n            xprop = \"height\";\n            yprop = \"width\";\n        }\n        else {\n            xprop = \"width\";\n            yprop = \"height\";\n        }\n        this._ctx.canvas[xprop] = Math.ceil((opts.width + 1) * this._spacingX);\n        this._ctx.canvas[yprop] = Math.ceil((opts.height - 1) * this._spacingY + 2 * this._hexSize);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/hex.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/rect.js":
/*!***************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/rect.js ***!
  \***************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Rect; });\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./canvas.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/canvas.js\");\n\nclass Rect extends _canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this._spacingX = 0;\n        this._spacingY = 0;\n        this._canvasCache = {};\n    }\n    setOptions(options) {\n        super.setOptions(options);\n        this._canvasCache = {};\n    }\n    draw(data, clearBefore) {\n        if (Rect.cache) {\n            this._drawWithCache(data);\n        }\n        else {\n            this._drawNoCache(data, clearBefore);\n        }\n    }\n    _drawWithCache(data) {\n        let [x, y, ch, fg, bg] = data;\n        let hash = \"\" + ch + fg + bg;\n        let canvas;\n        if (hash in this._canvasCache) {\n            canvas = this._canvasCache[hash];\n        }\n        else {\n            let b = this._options.border;\n            canvas = document.createElement(\"canvas\");\n            let ctx = canvas.getContext(\"2d\");\n            canvas.width = this._spacingX;\n            canvas.height = this._spacingY;\n            ctx.fillStyle = bg;\n            ctx.fillRect(b, b, canvas.width - b, canvas.height - b);\n            if (ch) {\n                ctx.fillStyle = fg;\n                ctx.font = this._ctx.font;\n                ctx.textAlign = \"center\";\n                ctx.textBaseline = \"middle\";\n                let chars = [].concat(ch);\n                for (let i = 0; i < chars.length; i++) {\n                    ctx.fillText(chars[i], this._spacingX / 2, Math.ceil(this._spacingY / 2));\n                }\n            }\n            this._canvasCache[hash] = canvas;\n        }\n        this._ctx.drawImage(canvas, x * this._spacingX, y * this._spacingY);\n    }\n    _drawNoCache(data, clearBefore) {\n        let [x, y, ch, fg, bg] = data;\n        if (clearBefore) {\n            let b = this._options.border;\n            this._ctx.fillStyle = bg;\n            this._ctx.fillRect(x * this._spacingX + b, y * this._spacingY + b, this._spacingX - b, this._spacingY - b);\n        }\n        if (!ch) {\n            return;\n        }\n        this._ctx.fillStyle = fg;\n        let chars = [].concat(ch);\n        for (let i = 0; i < chars.length; i++) {\n            this._ctx.fillText(chars[i], (x + 0.5) * this._spacingX, Math.ceil((y + 0.5) * this._spacingY));\n        }\n    }\n    computeSize(availWidth, availHeight) {\n        let width = Math.floor(availWidth / this._spacingX);\n        let height = Math.floor(availHeight / this._spacingY);\n        return [width, height];\n    }\n    computeFontSize(availWidth, availHeight) {\n        let boxWidth = Math.floor(availWidth / this._options.width);\n        let boxHeight = Math.floor(availHeight / this._options.height);\n        let oldFont = this._ctx.font;\n        this._ctx.font = \"100px \" + this._options.fontFamily;\n        let width = Math.ceil(this._ctx.measureText(\"W\").width);\n        this._ctx.font = oldFont;\n        let ratio = width / 100;\n        let widthFraction = ratio * boxHeight / boxWidth;\n        if (widthFraction > 1) {\n            boxHeight = Math.floor(boxHeight / widthFraction);\n        }\n        return Math.floor(boxHeight / this._options.spacing);\n    }\n    _normalizedEventToPosition(x, y) {\n        return [Math.floor(x / this._spacingX), Math.floor(y / this._spacingY)];\n    }\n    _updateSize() {\n        const opts = this._options;\n        const charWidth = Math.ceil(this._ctx.measureText(\"W\").width);\n        this._spacingX = Math.ceil(opts.spacing * charWidth);\n        this._spacingY = Math.ceil(opts.spacing * opts.fontSize);\n        if (opts.forceSquareRatio) {\n            this._spacingX = this._spacingY = Math.max(this._spacingX, this._spacingY);\n        }\n        this._ctx.canvas.width = opts.width * this._spacingX;\n        this._ctx.canvas.height = opts.height * this._spacingY;\n    }\n}\nRect.cache = false;\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/rect.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/term.js":
/*!***************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/term.js ***!
  \***************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Term; });\n/* harmony import */ var _backend_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./backend.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/backend.js\");\n/* harmony import */ var _color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../color.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/color.js\");\n\n\nfunction clearToAnsi(bg) {\n    return `\\x1b[0;48;5;${termcolor(bg)}m\\x1b[2J`;\n}\nfunction colorToAnsi(fg, bg) {\n    return `\\x1b[0;38;5;${termcolor(fg)};48;5;${termcolor(bg)}m`;\n}\nfunction positionToAnsi(x, y) {\n    return `\\x1b[${y + 1};${x + 1}H`;\n}\nfunction termcolor(color) {\n    const SRC_COLORS = 256.0;\n    const DST_COLORS = 6.0;\n    const COLOR_RATIO = DST_COLORS / SRC_COLORS;\n    let rgb = _color_js__WEBPACK_IMPORTED_MODULE_1__[\"fromString\"](color);\n    let r = Math.floor(rgb[0] * COLOR_RATIO);\n    let g = Math.floor(rgb[1] * COLOR_RATIO);\n    let b = Math.floor(rgb[2] * COLOR_RATIO);\n    return r * 36 + g * 6 + b * 1 + 16;\n}\nclass Term extends _backend_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this._offset = [0, 0];\n        this._cursor = [-1, -1];\n        this._lastColor = \"\";\n    }\n    schedule(cb) { setTimeout(cb, 1000 / 60); }\n    setOptions(options) {\n        super.setOptions(options);\n        let size = [options.width, options.height];\n        let avail = this.computeSize();\n        this._offset = avail.map((val, index) => Math.floor((val - size[index]) / 2));\n    }\n    clear() {\n        process.stdout.write(clearToAnsi(this._options.bg));\n    }\n    draw(data, clearBefore) {\n        let [x, y, ch, fg, bg] = data;\n        let dx = this._offset[0] + x;\n        let dy = this._offset[1] + y;\n        let size = this.computeSize();\n        if (dx < 0 || dx >= size[0]) {\n            return;\n        }\n        if (dy < 0 || dy >= size[1]) {\n            return;\n        }\n        if (dx !== this._cursor[0] || dy !== this._cursor[1]) {\n            process.stdout.write(positionToAnsi(dx, dy));\n            this._cursor[0] = dx;\n            this._cursor[1] = dy;\n        }\n        if (clearBefore) {\n            if (!ch) {\n                ch = \" \";\n            }\n        }\n        if (!ch) {\n            return;\n        }\n        let newColor = colorToAnsi(fg, bg);\n        if (newColor !== this._lastColor) {\n            process.stdout.write(newColor);\n            this._lastColor = newColor;\n        }\n        let chars = [].concat(ch);\n        process.stdout.write(chars[0]);\n        this._cursor[0]++;\n        if (this._cursor[0] >= size[0]) {\n            this._cursor[0] = 0;\n            this._cursor[1]++;\n        }\n    }\n    computeFontSize() { throw new Error(\"Terminal backend has no notion of font size\"); }\n    eventToPosition(x, y) { return [x, y]; }\n    computeSize() { return [process.stdout.columns, process.stdout.rows]; }\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../process/0.11.10/node_modules/process/browser.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/process/0.11.10/node_modules/process/browser.js\")))\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/term.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/tile.js":
/*!***************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/tile.js ***!
  \***************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Tile; });\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./canvas.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/canvas.js\");\n\nclass Tile extends _canvas_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this._colorCanvas = document.createElement(\"canvas\");\n    }\n    draw(data, clearBefore) {\n        let [x, y, ch, fg, bg] = data;\n        let tileWidth = this._options.tileWidth;\n        let tileHeight = this._options.tileHeight;\n        if (clearBefore) {\n            if (this._options.tileColorize) {\n                this._ctx.clearRect(x * tileWidth, y * tileHeight, tileWidth, tileHeight);\n            }\n            else {\n                this._ctx.fillStyle = bg;\n                this._ctx.fillRect(x * tileWidth, y * tileHeight, tileWidth, tileHeight);\n            }\n        }\n        if (!ch) {\n            return;\n        }\n        let chars = [].concat(ch);\n        let fgs = [].concat(fg);\n        let bgs = [].concat(bg);\n        for (let i = 0; i < chars.length; i++) {\n            let tile = this._options.tileMap[chars[i]];\n            if (!tile) {\n                throw new Error(`Char \"${chars[i]}\" not found in tileMap`);\n            }\n            if (this._options.tileColorize) {\n                let canvas = this._colorCanvas;\n                let context = canvas.getContext(\"2d\");\n                context.globalCompositeOperation = \"source-over\";\n                context.clearRect(0, 0, tileWidth, tileHeight);\n                let fg = fgs[i];\n                let bg = bgs[i];\n                context.drawImage(this._options.tileSet, tile[0], tile[1], tileWidth, tileHeight, 0, 0, tileWidth, tileHeight);\n                if (fg != \"transparent\") {\n                    context.fillStyle = fg;\n                    context.globalCompositeOperation = \"source-atop\";\n                    context.fillRect(0, 0, tileWidth, tileHeight);\n                }\n                if (bg != \"transparent\") {\n                    context.fillStyle = bg;\n                    context.globalCompositeOperation = \"destination-over\";\n                    context.fillRect(0, 0, tileWidth, tileHeight);\n                }\n                this._ctx.drawImage(canvas, x * tileWidth, y * tileHeight, tileWidth, tileHeight);\n            }\n            else {\n                this._ctx.drawImage(this._options.tileSet, tile[0], tile[1], tileWidth, tileHeight, x * tileWidth, y * tileHeight, tileWidth, tileHeight);\n            }\n        }\n    }\n    computeSize(availWidth, availHeight) {\n        let width = Math.floor(availWidth / this._options.tileWidth);\n        let height = Math.floor(availHeight / this._options.tileHeight);\n        return [width, height];\n    }\n    computeFontSize() {\n        throw new Error(\"Tile backend does not understand font size\");\n    }\n    _normalizedEventToPosition(x, y) {\n        return [Math.floor(x / this._options.tileWidth), Math.floor(y / this._options.tileHeight)];\n    }\n    _updateSize() {\n        const opts = this._options;\n        this._ctx.canvas.width = opts.width * opts.tileWidth;\n        this._ctx.canvas.height = opts.height * opts.tileHeight;\n        this._colorCanvas.width = opts.tileWidth;\n        this._colorCanvas.height = opts.tileHeight;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/tile.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/engine.js":
/*!*********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/engine.js ***!
  \*********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Engine; });\nclass Engine {\n    constructor(scheduler) {\n        this._scheduler = scheduler;\n        this._lock = 1;\n    }\n    start() { return this.unlock(); }\n    lock() {\n        this._lock++;\n        return this;\n    }\n    unlock() {\n        if (!this._lock) {\n            throw new Error(\"Cannot unlock unlocked engine\");\n        }\n        this._lock--;\n        while (!this._lock) {\n            let actor = this._scheduler.next();\n            if (!actor) {\n                return this.lock();\n            }\n            let result = actor.act();\n            if (result && result.then) {\n                this.lock();\n                result.then(this.unlock.bind(this));\n            }\n        }\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/engine.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/eventqueue.js":
/*!*************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/eventqueue.js ***!
  \*************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventQueue; });\nclass EventQueue {\n    constructor() {\n        this._time = 0;\n        this._events = [];\n        this._eventTimes = [];\n    }\n    getTime() { return this._time; }\n    clear() {\n        this._events = [];\n        this._eventTimes = [];\n        return this;\n    }\n    add(event, time) {\n        let index = this._events.length;\n        for (let i = 0; i < this._eventTimes.length; i++) {\n            if (this._eventTimes[i] > time) {\n                index = i;\n                break;\n            }\n        }\n        this._events.splice(index, 0, event);\n        this._eventTimes.splice(index, 0, time);\n    }\n    get() {\n        if (!this._events.length) {\n            return null;\n        }\n        let time = this._eventTimes.splice(0, 1)[0];\n        if (time > 0) {\n            this._time += time;\n            for (let i = 0; i < this._eventTimes.length; i++) {\n                this._eventTimes[i] -= time;\n            }\n        }\n        return this._events.splice(0, 1)[0];\n    }\n    getEventTime(event) {\n        let index = this._events.indexOf(event);\n        if (index == -1) {\n            return undefined;\n        }\n        return this._eventTimes[index];\n    }\n    remove(event) {\n        let index = this._events.indexOf(event);\n        if (index == -1) {\n            return false;\n        }\n        this._remove(index);\n        return true;\n    }\n    ;\n    _remove(index) {\n        this._events.splice(index, 1);\n        this._eventTimes.splice(index, 1);\n    }\n    ;\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/eventqueue.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/discrete-shadowcasting.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/discrete-shadowcasting.js ***!
  \*****************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DiscreteShadowcasting; });\n/* harmony import */ var _fov_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fov.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/fov.js\");\n\nclass DiscreteShadowcasting extends _fov_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    compute(x, y, R, callback) {\n        callback(x, y, 0, 1);\n        if (!this._lightPasses(x, y)) {\n            return;\n        }\n        let DATA = [];\n        let A, B, cx, cy, blocks;\n        for (let r = 1; r <= R; r++) {\n            let neighbors = this._getCircle(x, y, r);\n            let angle = 360 / neighbors.length;\n            for (let i = 0; i < neighbors.length; i++) {\n                cx = neighbors[i][0];\n                cy = neighbors[i][1];\n                A = angle * (i - 0.5);\n                B = A + angle;\n                blocks = !this._lightPasses(cx, cy);\n                if (this._visibleCoords(Math.floor(A), Math.ceil(B), blocks, DATA)) {\n                    callback(cx, cy, r, 1);\n                }\n                if (DATA.length == 2 && DATA[0] == 0 && DATA[1] == 360) {\n                    return;\n                }\n            }\n        }\n    }\n    _visibleCoords(A, B, blocks, DATA) {\n        if (A < 0) {\n            let v1 = this._visibleCoords(0, B, blocks, DATA);\n            let v2 = this._visibleCoords(360 + A, 360, blocks, DATA);\n            return v1 || v2;\n        }\n        let index = 0;\n        while (index < DATA.length && DATA[index] < A) {\n            index++;\n        }\n        if (index == DATA.length) {\n            if (blocks) {\n                DATA.push(A, B);\n            }\n            return true;\n        }\n        let count = 0;\n        if (index % 2) {\n            while (index < DATA.length && DATA[index] < B) {\n                index++;\n                count++;\n            }\n            if (count == 0) {\n                return false;\n            }\n            if (blocks) {\n                if (count % 2) {\n                    DATA.splice(index - count, count, B);\n                }\n                else {\n                    DATA.splice(index - count, count);\n                }\n            }\n            return true;\n        }\n        else {\n            while (index < DATA.length && DATA[index] < B) {\n                index++;\n                count++;\n            }\n            if (A == DATA[index - count] && count == 1) {\n                return false;\n            }\n            if (blocks) {\n                if (count % 2) {\n                    DATA.splice(index - count, count, A);\n                }\n                else {\n                    DATA.splice(index - count, count, A, B);\n                }\n            }\n            return true;\n        }\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/discrete-shadowcasting.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/fov.js":
/*!**********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/fov.js ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FOV; });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n\n;\n;\nclass FOV {\n    constructor(lightPassesCallback, options = {}) {\n        this._lightPasses = lightPassesCallback;\n        this._options = Object.assign({ topology: 8 }, options);\n    }\n    _getCircle(cx, cy, r) {\n        let result = [];\n        let dirs, countFactor, startOffset;\n        switch (this._options.topology) {\n            case 4:\n                countFactor = 1;\n                startOffset = [0, 1];\n                dirs = [\n                    _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][8][7],\n                    _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][8][1],\n                    _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][8][3],\n                    _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][8][5]\n                ];\n                break;\n            case 6:\n                dirs = _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][6];\n                countFactor = 1;\n                startOffset = [-1, 1];\n                break;\n            case 8:\n                dirs = _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][4];\n                countFactor = 2;\n                startOffset = [-1, 1];\n                break;\n            default:\n                throw new Error(\"Incorrect topology for FOV computation\");\n                break;\n        }\n        let x = cx + startOffset[0] * r;\n        let y = cy + startOffset[1] * r;\n        for (let i = 0; i < dirs.length; i++) {\n            for (let j = 0; j < r * countFactor; j++) {\n                result.push([x, y]);\n                x += dirs[i][0];\n                y += dirs[i][1];\n            }\n        }\n        return result;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/fov.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/index.js":
/*!************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/index.js ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _discrete_shadowcasting_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./discrete-shadowcasting.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/discrete-shadowcasting.js\");\n/* harmony import */ var _precise_shadowcasting_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./precise-shadowcasting.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/precise-shadowcasting.js\");\n/* harmony import */ var _recursive_shadowcasting_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./recursive-shadowcasting.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/recursive-shadowcasting.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ DiscreteShadowcasting: _discrete_shadowcasting_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], PreciseShadowcasting: _precise_shadowcasting_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], RecursiveShadowcasting: _recursive_shadowcasting_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] });\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/index.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/precise-shadowcasting.js":
/*!****************************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/precise-shadowcasting.js ***!
  \****************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PreciseShadowcasting; });\n/* harmony import */ var _fov_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fov.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/fov.js\");\n\nclass PreciseShadowcasting extends _fov_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    compute(x, y, R, callback) {\n        callback(x, y, 0, 1);\n        if (!this._lightPasses(x, y)) {\n            return;\n        }\n        let SHADOWS = [];\n        let cx, cy, blocks, A1, A2, visibility;\n        for (let r = 1; r <= R; r++) {\n            let neighbors = this._getCircle(x, y, r);\n            let neighborCount = neighbors.length;\n            for (let i = 0; i < neighborCount; i++) {\n                cx = neighbors[i][0];\n                cy = neighbors[i][1];\n                A1 = [i ? 2 * i - 1 : 2 * neighborCount - 1, 2 * neighborCount];\n                A2 = [2 * i + 1, 2 * neighborCount];\n                blocks = !this._lightPasses(cx, cy);\n                visibility = this._checkVisibility(A1, A2, blocks, SHADOWS);\n                if (visibility) {\n                    callback(cx, cy, r, visibility);\n                }\n                if (SHADOWS.length == 2 && SHADOWS[0][0] == 0 && SHADOWS[1][0] == SHADOWS[1][1]) {\n                    return;\n                }\n            }\n        }\n    }\n    _checkVisibility(A1, A2, blocks, SHADOWS) {\n        if (A1[0] > A2[0]) {\n            let v1 = this._checkVisibility(A1, [A1[1], A1[1]], blocks, SHADOWS);\n            let v2 = this._checkVisibility([0, 1], A2, blocks, SHADOWS);\n            return (v1 + v2) / 2;\n        }\n        let index1 = 0, edge1 = false;\n        while (index1 < SHADOWS.length) {\n            let old = SHADOWS[index1];\n            let diff = old[0] * A1[1] - A1[0] * old[1];\n            if (diff >= 0) {\n                if (diff == 0 && !(index1 % 2)) {\n                    edge1 = true;\n                }\n                break;\n            }\n            index1++;\n        }\n        let index2 = SHADOWS.length, edge2 = false;\n        while (index2--) {\n            let old = SHADOWS[index2];\n            let diff = A2[0] * old[1] - old[0] * A2[1];\n            if (diff >= 0) {\n                if (diff == 0 && (index2 % 2)) {\n                    edge2 = true;\n                }\n                break;\n            }\n        }\n        let visible = true;\n        if (index1 == index2 && (edge1 || edge2)) {\n            visible = false;\n        }\n        else if (edge1 && edge2 && index1 + 1 == index2 && (index2 % 2)) {\n            visible = false;\n        }\n        else if (index1 > index2 && (index1 % 2)) {\n            visible = false;\n        }\n        if (!visible) {\n            return 0;\n        }\n        let visibleLength;\n        let remove = index2 - index1 + 1;\n        if (remove % 2) {\n            if (index1 % 2) {\n                let P = SHADOWS[index1];\n                visibleLength = (A2[0] * P[1] - P[0] * A2[1]) / (P[1] * A2[1]);\n                if (blocks) {\n                    SHADOWS.splice(index1, remove, A2);\n                }\n            }\n            else {\n                let P = SHADOWS[index2];\n                visibleLength = (P[0] * A1[1] - A1[0] * P[1]) / (A1[1] * P[1]);\n                if (blocks) {\n                    SHADOWS.splice(index1, remove, A1);\n                }\n            }\n        }\n        else {\n            if (index1 % 2) {\n                let P1 = SHADOWS[index1];\n                let P2 = SHADOWS[index2];\n                visibleLength = (P2[0] * P1[1] - P1[0] * P2[1]) / (P1[1] * P2[1]);\n                if (blocks) {\n                    SHADOWS.splice(index1, remove);\n                }\n            }\n            else {\n                if (blocks) {\n                    SHADOWS.splice(index1, remove, A1, A2);\n                }\n                return 1;\n            }\n        }\n        let arcLength = (A2[0] * A1[1] - A1[0] * A2[1]) / (A1[1] * A2[1]);\n        return visibleLength / arcLength;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/precise-shadowcasting.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/recursive-shadowcasting.js":
/*!******************************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/recursive-shadowcasting.js ***!
  \******************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RecursiveShadowcasting; });\n/* harmony import */ var _fov_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fov.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/fov.js\");\n\nconst OCTANTS = [\n    [-1, 0, 0, 1],\n    [0, -1, 1, 0],\n    [0, -1, -1, 0],\n    [-1, 0, 0, -1],\n    [1, 0, 0, -1],\n    [0, 1, -1, 0],\n    [0, 1, 1, 0],\n    [1, 0, 0, 1]\n];\nclass RecursiveShadowcasting extends _fov_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    compute(x, y, R, callback) {\n        callback(x, y, 0, 1);\n        for (let i = 0; i < OCTANTS.length; i++) {\n            this._renderOctant(x, y, OCTANTS[i], R, callback);\n        }\n    }\n    compute180(x, y, R, dir, callback) {\n        callback(x, y, 0, 1);\n        let previousOctant = (dir - 1 + 8) % 8;\n        let nextPreviousOctant = (dir - 2 + 8) % 8;\n        let nextOctant = (dir + 1 + 8) % 8;\n        this._renderOctant(x, y, OCTANTS[nextPreviousOctant], R, callback);\n        this._renderOctant(x, y, OCTANTS[previousOctant], R, callback);\n        this._renderOctant(x, y, OCTANTS[dir], R, callback);\n        this._renderOctant(x, y, OCTANTS[nextOctant], R, callback);\n    }\n    ;\n    compute90(x, y, R, dir, callback) {\n        callback(x, y, 0, 1);\n        let previousOctant = (dir - 1 + 8) % 8;\n        this._renderOctant(x, y, OCTANTS[dir], R, callback);\n        this._renderOctant(x, y, OCTANTS[previousOctant], R, callback);\n    }\n    _renderOctant(x, y, octant, R, callback) {\n        this._castVisibility(x, y, 1, 1.0, 0.0, R + 1, octant[0], octant[1], octant[2], octant[3], callback);\n    }\n    _castVisibility(startX, startY, row, visSlopeStart, visSlopeEnd, radius, xx, xy, yx, yy, callback) {\n        if (visSlopeStart < visSlopeEnd) {\n            return;\n        }\n        for (let i = row; i <= radius; i++) {\n            let dx = -i - 1;\n            let dy = -i;\n            let blocked = false;\n            let newStart = 0;\n            while (dx <= 0) {\n                dx += 1;\n                let mapX = startX + dx * xx + dy * xy;\n                let mapY = startY + dx * yx + dy * yy;\n                let slopeStart = (dx - 0.5) / (dy + 0.5);\n                let slopeEnd = (dx + 0.5) / (dy - 0.5);\n                if (slopeEnd > visSlopeStart) {\n                    continue;\n                }\n                if (slopeStart < visSlopeEnd) {\n                    break;\n                }\n                if ((dx * dx + dy * dy) < (radius * radius)) {\n                    callback(mapX, mapY, i, 1);\n                }\n                if (!blocked) {\n                    if (!this._lightPasses(mapX, mapY) && i < radius) {\n                        blocked = true;\n                        this._castVisibility(startX, startY, i + 1, visSlopeStart, slopeStart, radius, xx, xy, yx, yy, callback);\n                        newStart = slopeEnd;\n                    }\n                }\n                else {\n                    if (!this._lightPasses(mapX, mapY)) {\n                        newStart = slopeEnd;\n                        continue;\n                    }\n                    blocked = false;\n                    visSlopeStart = newStart;\n                }\n            }\n            if (blocked) {\n                break;\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/recursive-shadowcasting.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/index.js":
/*!********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/index.js ***!
  \********************************************************************************************************************************************/
/*! exports provided: RNG, Display, StringGenerator, EventQueue, Scheduler, FOV, Map, Noise, Path, Engine, Lighting, DEFAULT_WIDTH, DEFAULT_HEIGHT, DIRS, KEYS, Util, Color, Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Util\", function() { return Util; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Text\", function() { return Text; });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RNG\", function() { return _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _display_display_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./display/display.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/display/display.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Display\", function() { return _display_display_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _stringgenerator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringgenerator.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/stringgenerator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StringGenerator\", function() { return _stringgenerator_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _eventqueue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eventqueue.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/eventqueue.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EventQueue\", function() { return _eventqueue_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _scheduler_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scheduler/index.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Scheduler\", function() { return _scheduler_index_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _fov_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fov/index.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/fov/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FOV\", function() { return _fov_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _map_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./map/index.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Map\", function() { return _map_index_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _noise_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./noise/index.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Noise\", function() { return _noise_index_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _path_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./path/index.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Path\", function() { return _path_index_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _engine_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./engine.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/engine.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Engine\", function() { return _engine_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _lighting_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./lighting.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/lighting.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Lighting\", function() { return _lighting_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_WIDTH\", function() { return _constants_js__WEBPACK_IMPORTED_MODULE_11__[\"DEFAULT_WIDTH\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_HEIGHT\", function() { return _constants_js__WEBPACK_IMPORTED_MODULE_11__[\"DEFAULT_HEIGHT\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DIRS\", function() { return _constants_js__WEBPACK_IMPORTED_MODULE_11__[\"DIRS\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"KEYS\", function() { return _constants_js__WEBPACK_IMPORTED_MODULE_11__[\"KEYS\"]; });\n\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./util.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js\");\n/* harmony import */ var _color_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./color.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/color.js\");\n/* harmony import */ var _text_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./text.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/text.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Util = _util_js__WEBPACK_IMPORTED_MODULE_12__;\n\nconst Color = _color_js__WEBPACK_IMPORTED_MODULE_13__;\n\nconst Text = _text_js__WEBPACK_IMPORTED_MODULE_14__;\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/index.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/lighting.js":
/*!***********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/lighting.js ***!
  \***********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Lighting; });\n/* harmony import */ var _color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./color.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/color.js\");\n\n;\n;\n;\n;\nclass Lighting {\n    constructor(reflectivityCallback, options = {}) {\n        this._reflectivityCallback = reflectivityCallback;\n        this._options = {};\n        options = Object.assign({\n            passes: 1,\n            emissionThreshold: 100,\n            range: 10\n        }, options);\n        this._lights = {};\n        this._reflectivityCache = {};\n        this._fovCache = {};\n        this.setOptions(options);\n    }\n    setOptions(options) {\n        Object.assign(this._options, options);\n        if (options && options.range) {\n            this.reset();\n        }\n        return this;\n    }\n    setFOV(fov) {\n        this._fov = fov;\n        this._fovCache = {};\n        return this;\n    }\n    setLight(x, y, color) {\n        let key = x + \",\" + y;\n        if (color) {\n            this._lights[key] = (typeof (color) == \"string\" ? _color_js__WEBPACK_IMPORTED_MODULE_0__[\"fromString\"](color) : color);\n        }\n        else {\n            delete this._lights[key];\n        }\n        return this;\n    }\n    clearLights() { this._lights = {}; }\n    reset() {\n        this._reflectivityCache = {};\n        this._fovCache = {};\n        return this;\n    }\n    compute(lightingCallback) {\n        let doneCells = {};\n        let emittingCells = {};\n        let litCells = {};\n        for (let key in this._lights) {\n            let light = this._lights[key];\n            emittingCells[key] = [0, 0, 0];\n            _color_js__WEBPACK_IMPORTED_MODULE_0__[\"add_\"](emittingCells[key], light);\n        }\n        for (let i = 0; i < this._options.passes; i++) {\n            this._emitLight(emittingCells, litCells, doneCells);\n            if (i + 1 == this._options.passes) {\n                continue;\n            }\n            emittingCells = this._computeEmitters(litCells, doneCells);\n        }\n        for (let litKey in litCells) {\n            let parts = litKey.split(\",\");\n            let x = parseInt(parts[0]);\n            let y = parseInt(parts[1]);\n            lightingCallback(x, y, litCells[litKey]);\n        }\n        return this;\n    }\n    _emitLight(emittingCells, litCells, doneCells) {\n        for (let key in emittingCells) {\n            let parts = key.split(\",\");\n            let x = parseInt(parts[0]);\n            let y = parseInt(parts[1]);\n            this._emitLightFromCell(x, y, emittingCells[key], litCells);\n            doneCells[key] = 1;\n        }\n        return this;\n    }\n    _computeEmitters(litCells, doneCells) {\n        let result = {};\n        for (let key in litCells) {\n            if (key in doneCells) {\n                continue;\n            }\n            let color = litCells[key];\n            let reflectivity;\n            if (key in this._reflectivityCache) {\n                reflectivity = this._reflectivityCache[key];\n            }\n            else {\n                let parts = key.split(\",\");\n                let x = parseInt(parts[0]);\n                let y = parseInt(parts[1]);\n                reflectivity = this._reflectivityCallback(x, y);\n                this._reflectivityCache[key] = reflectivity;\n            }\n            if (reflectivity == 0) {\n                continue;\n            }\n            let emission = [0, 0, 0];\n            let intensity = 0;\n            for (let i = 0; i < 3; i++) {\n                let part = Math.round(color[i] * reflectivity);\n                emission[i] = part;\n                intensity += part;\n            }\n            if (intensity > this._options.emissionThreshold) {\n                result[key] = emission;\n            }\n        }\n        return result;\n    }\n    _emitLightFromCell(x, y, color, litCells) {\n        let key = x + \",\" + y;\n        let fov;\n        if (key in this._fovCache) {\n            fov = this._fovCache[key];\n        }\n        else {\n            fov = this._updateFOV(x, y);\n        }\n        for (let fovKey in fov) {\n            let formFactor = fov[fovKey];\n            let result;\n            if (fovKey in litCells) {\n                result = litCells[fovKey];\n            }\n            else {\n                result = [0, 0, 0];\n                litCells[fovKey] = result;\n            }\n            for (let i = 0; i < 3; i++) {\n                result[i] += Math.round(color[i] * formFactor);\n            }\n        }\n        return this;\n    }\n    _updateFOV(x, y) {\n        let key1 = x + \",\" + y;\n        let cache = {};\n        this._fovCache[key1] = cache;\n        let range = this._options.range;\n        function cb(x, y, r, vis) {\n            let key2 = x + \",\" + y;\n            let formFactor = vis * (1 - r / range);\n            if (formFactor == 0) {\n                return;\n            }\n            cache[key2] = formFactor;\n        }\n        ;\n        this._fov.compute(x, y, range, cb.bind(this));\n        return cache;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/lighting.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/arena.js":
/*!************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/arena.js ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Arena; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n\nclass Arena extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    create(callback) {\n        let w = this._width - 1;\n        let h = this._height - 1;\n        for (let i = 0; i <= w; i++) {\n            for (let j = 0; j <= h; j++) {\n                let empty = (i && j && i < w && j < h);\n                callback(i, j, empty ? 0 : 1);\n            }\n        }\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/arena.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/cellular.js":
/*!***************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/cellular.js ***!
  \***************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Cellular; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n\n\n;\nclass Cellular extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(width, height, options = {}) {\n        super(width, height);\n        this._options = {\n            born: [5, 6, 7, 8],\n            survive: [4, 5, 6, 7, 8],\n            topology: 8\n        };\n        this.setOptions(options);\n        this._dirs = _constants_js__WEBPACK_IMPORTED_MODULE_1__[\"DIRS\"][this._options.topology];\n        this._map = this._fillMap(0);\n    }\n    randomize(probability) {\n        for (let i = 0; i < this._width; i++) {\n            for (let j = 0; j < this._height; j++) {\n                this._map[i][j] = (_rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUniform() < probability ? 1 : 0);\n            }\n        }\n        return this;\n    }\n    setOptions(options) { Object.assign(this._options, options); }\n    set(x, y, value) { this._map[x][y] = value; }\n    create(callback) {\n        let newMap = this._fillMap(0);\n        let born = this._options.born;\n        let survive = this._options.survive;\n        for (let j = 0; j < this._height; j++) {\n            let widthStep = 1;\n            let widthStart = 0;\n            if (this._options.topology == 6) {\n                widthStep = 2;\n                widthStart = j % 2;\n            }\n            for (let i = widthStart; i < this._width; i += widthStep) {\n                let cur = this._map[i][j];\n                let ncount = this._getNeighbors(i, j);\n                if (cur && survive.indexOf(ncount) != -1) {\n                    newMap[i][j] = 1;\n                }\n                else if (!cur && born.indexOf(ncount) != -1) {\n                    newMap[i][j] = 1;\n                }\n            }\n        }\n        this._map = newMap;\n        callback && this._serviceCallback(callback);\n    }\n    _serviceCallback(callback) {\n        for (let j = 0; j < this._height; j++) {\n            let widthStep = 1;\n            let widthStart = 0;\n            if (this._options.topology == 6) {\n                widthStep = 2;\n                widthStart = j % 2;\n            }\n            for (let i = widthStart; i < this._width; i += widthStep) {\n                callback(i, j, this._map[i][j]);\n            }\n        }\n    }\n    _getNeighbors(cx, cy) {\n        let result = 0;\n        for (let i = 0; i < this._dirs.length; i++) {\n            let dir = this._dirs[i];\n            let x = cx + dir[0];\n            let y = cy + dir[1];\n            if (x < 0 || x >= this._width || y < 0 || y >= this._height) {\n                continue;\n            }\n            result += (this._map[x][y] == 1 ? 1 : 0);\n        }\n        return result;\n    }\n    connect(callback, value, connectionCallback) {\n        if (!value)\n            value = 0;\n        let allFreeSpace = [];\n        let notConnected = {};\n        let widthStep = 1;\n        let widthStarts = [0, 0];\n        if (this._options.topology == 6) {\n            widthStep = 2;\n            widthStarts = [0, 1];\n        }\n        for (let y = 0; y < this._height; y++) {\n            for (let x = widthStarts[y % 2]; x < this._width; x += widthStep) {\n                if (this._freeSpace(x, y, value)) {\n                    let p = [x, y];\n                    notConnected[this._pointKey(p)] = p;\n                    allFreeSpace.push([x, y]);\n                }\n            }\n        }\n        let start = allFreeSpace[_rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUniformInt(0, allFreeSpace.length - 1)];\n        let key = this._pointKey(start);\n        let connected = {};\n        connected[key] = start;\n        delete notConnected[key];\n        this._findConnected(connected, notConnected, [start], false, value);\n        while (Object.keys(notConnected).length > 0) {\n            let p = this._getFromTo(connected, notConnected);\n            let from = p[0];\n            let to = p[1];\n            let local = {};\n            local[this._pointKey(from)] = from;\n            this._findConnected(local, notConnected, [from], true, value);\n            let tunnelFn = (this._options.topology == 6 ? this._tunnelToConnected6 : this._tunnelToConnected);\n            tunnelFn.call(this, to, from, connected, notConnected, value, connectionCallback);\n            for (let k in local) {\n                let pp = local[k];\n                this._map[pp[0]][pp[1]] = value;\n                connected[k] = pp;\n                delete notConnected[k];\n            }\n        }\n        callback && this._serviceCallback(callback);\n    }\n    _getFromTo(connected, notConnected) {\n        let from = [0, 0], to = [0, 0], d;\n        let connectedKeys = Object.keys(connected);\n        let notConnectedKeys = Object.keys(notConnected);\n        for (let i = 0; i < 5; i++) {\n            if (connectedKeys.length < notConnectedKeys.length) {\n                let keys = connectedKeys;\n                to = connected[keys[_rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUniformInt(0, keys.length - 1)]];\n                from = this._getClosest(to, notConnected);\n            }\n            else {\n                let keys = notConnectedKeys;\n                from = notConnected[keys[_rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUniformInt(0, keys.length - 1)]];\n                to = this._getClosest(from, connected);\n            }\n            d = (from[0] - to[0]) * (from[0] - to[0]) + (from[1] - to[1]) * (from[1] - to[1]);\n            if (d < 64) {\n                break;\n            }\n        }\n        return [from, to];\n    }\n    _getClosest(point, space) {\n        let minPoint = null;\n        let minDist = null;\n        for (let k in space) {\n            let p = space[k];\n            let d = (p[0] - point[0]) * (p[0] - point[0]) + (p[1] - point[1]) * (p[1] - point[1]);\n            if (minDist == null || d < minDist) {\n                minDist = d;\n                minPoint = p;\n            }\n        }\n        return minPoint;\n    }\n    _findConnected(connected, notConnected, stack, keepNotConnected, value) {\n        while (stack.length > 0) {\n            let p = stack.splice(0, 1)[0];\n            let tests;\n            if (this._options.topology == 6) {\n                tests = [\n                    [p[0] + 2, p[1]],\n                    [p[0] + 1, p[1] - 1],\n                    [p[0] - 1, p[1] - 1],\n                    [p[0] - 2, p[1]],\n                    [p[0] - 1, p[1] + 1],\n                    [p[0] + 1, p[1] + 1],\n                ];\n            }\n            else {\n                tests = [\n                    [p[0] + 1, p[1]],\n                    [p[0] - 1, p[1]],\n                    [p[0], p[1] + 1],\n                    [p[0], p[1] - 1]\n                ];\n            }\n            for (let i = 0; i < tests.length; i++) {\n                let key = this._pointKey(tests[i]);\n                if (connected[key] == null && this._freeSpace(tests[i][0], tests[i][1], value)) {\n                    connected[key] = tests[i];\n                    if (!keepNotConnected) {\n                        delete notConnected[key];\n                    }\n                    stack.push(tests[i]);\n                }\n            }\n        }\n    }\n    _tunnelToConnected(to, from, connected, notConnected, value, connectionCallback) {\n        let a, b;\n        if (from[0] < to[0]) {\n            a = from;\n            b = to;\n        }\n        else {\n            a = to;\n            b = from;\n        }\n        for (let xx = a[0]; xx <= b[0]; xx++) {\n            this._map[xx][a[1]] = value;\n            let p = [xx, a[1]];\n            let pkey = this._pointKey(p);\n            connected[pkey] = p;\n            delete notConnected[pkey];\n        }\n        if (connectionCallback && a[0] < b[0]) {\n            connectionCallback(a, [b[0], a[1]]);\n        }\n        let x = b[0];\n        if (from[1] < to[1]) {\n            a = from;\n            b = to;\n        }\n        else {\n            a = to;\n            b = from;\n        }\n        for (let yy = a[1]; yy < b[1]; yy++) {\n            this._map[x][yy] = value;\n            let p = [x, yy];\n            let pkey = this._pointKey(p);\n            connected[pkey] = p;\n            delete notConnected[pkey];\n        }\n        if (connectionCallback && a[1] < b[1]) {\n            connectionCallback([b[0], a[1]], [b[0], b[1]]);\n        }\n    }\n    _tunnelToConnected6(to, from, connected, notConnected, value, connectionCallback) {\n        let a, b;\n        if (from[0] < to[0]) {\n            a = from;\n            b = to;\n        }\n        else {\n            a = to;\n            b = from;\n        }\n        let xx = a[0];\n        let yy = a[1];\n        while (!(xx == b[0] && yy == b[1])) {\n            let stepWidth = 2;\n            if (yy < b[1]) {\n                yy++;\n                stepWidth = 1;\n            }\n            else if (yy > b[1]) {\n                yy--;\n                stepWidth = 1;\n            }\n            if (xx < b[0]) {\n                xx += stepWidth;\n            }\n            else if (xx > b[0]) {\n                xx -= stepWidth;\n            }\n            else if (b[1] % 2) {\n                xx -= stepWidth;\n            }\n            else {\n                xx += stepWidth;\n            }\n            this._map[xx][yy] = value;\n            let p = [xx, yy];\n            let pkey = this._pointKey(p);\n            connected[pkey] = p;\n            delete notConnected[pkey];\n        }\n        if (connectionCallback) {\n            connectionCallback(from, to);\n        }\n    }\n    _freeSpace(x, y, value) {\n        return x >= 0 && x < this._width && y >= 0 && y < this._height && this._map[x][y] == value;\n    }\n    _pointKey(p) { return p[0] + \".\" + p[1]; }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/cellular.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/digger.js":
/*!*************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/digger.js ***!
  \*************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Digger; });\n/* harmony import */ var _dungeon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dungeon.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dungeon.js\");\n/* harmony import */ var _features_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./features.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/features.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n\n\n\n\nconst FEATURES = {\n    \"room\": _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Room\"],\n    \"corridor\": _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Corridor\"]\n};\nclass Digger extends _dungeon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(width, height, options = {}) {\n        super(width, height);\n        this._options = Object.assign({\n            roomWidth: [3, 9],\n            roomHeight: [3, 5],\n            corridorLength: [3, 10],\n            dugPercentage: 0.2,\n            timeLimit: 1000\n        }, options);\n        this._features = {\n            \"room\": 4,\n            \"corridor\": 4\n        };\n        this._map = [];\n        this._featureAttempts = 20;\n        this._walls = {};\n        this._dug = 0;\n        this._digCallback = this._digCallback.bind(this);\n        this._canBeDugCallback = this._canBeDugCallback.bind(this);\n        this._isWallCallback = this._isWallCallback.bind(this);\n        this._priorityWallCallback = this._priorityWallCallback.bind(this);\n    }\n    create(callback) {\n        this._rooms = [];\n        this._corridors = [];\n        this._map = this._fillMap(1);\n        this._walls = {};\n        this._dug = 0;\n        let area = (this._width - 2) * (this._height - 2);\n        this._firstRoom();\n        let t1 = Date.now();\n        let priorityWalls;\n        do {\n            priorityWalls = 0;\n            let t2 = Date.now();\n            if (t2 - t1 > this._options.timeLimit) {\n                break;\n            }\n            let wall = this._findWall();\n            if (!wall) {\n                break;\n            }\n            let parts = wall.split(\",\");\n            let x = parseInt(parts[0]);\n            let y = parseInt(parts[1]);\n            let dir = this._getDiggingDirection(x, y);\n            if (!dir) {\n                continue;\n            }\n            let featureAttempts = 0;\n            do {\n                featureAttempts++;\n                if (this._tryFeature(x, y, dir[0], dir[1])) {\n                    this._removeSurroundingWalls(x, y);\n                    this._removeSurroundingWalls(x - dir[0], y - dir[1]);\n                    break;\n                }\n            } while (featureAttempts < this._featureAttempts);\n            for (let id in this._walls) {\n                if (this._walls[id] > 1) {\n                    priorityWalls++;\n                }\n            }\n        } while (this._dug / area < this._options.dugPercentage || priorityWalls);\n        this._addDoors();\n        if (callback) {\n            for (let i = 0; i < this._width; i++) {\n                for (let j = 0; j < this._height; j++) {\n                    callback(i, j, this._map[i][j]);\n                }\n            }\n        }\n        this._walls = {};\n        this._map = [];\n        return this;\n    }\n    _digCallback(x, y, value) {\n        if (value == 0 || value == 2) {\n            this._map[x][y] = 0;\n            this._dug++;\n        }\n        else {\n            this._walls[x + \",\" + y] = 1;\n        }\n    }\n    _isWallCallback(x, y) {\n        if (x < 0 || y < 0 || x >= this._width || y >= this._height) {\n            return false;\n        }\n        return (this._map[x][y] == 1);\n    }\n    _canBeDugCallback(x, y) {\n        if (x < 1 || y < 1 || x + 1 >= this._width || y + 1 >= this._height) {\n            return false;\n        }\n        return (this._map[x][y] == 1);\n    }\n    _priorityWallCallback(x, y) { this._walls[x + \",\" + y] = 2; }\n    ;\n    _firstRoom() {\n        let cx = Math.floor(this._width / 2);\n        let cy = Math.floor(this._height / 2);\n        let room = _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Room\"].createRandomCenter(cx, cy, this._options);\n        this._rooms.push(room);\n        room.create(this._digCallback);\n    }\n    _findWall() {\n        let prio1 = [];\n        let prio2 = [];\n        for (let id in this._walls) {\n            let prio = this._walls[id];\n            if (prio == 2) {\n                prio2.push(id);\n            }\n            else {\n                prio1.push(id);\n            }\n        }\n        let arr = (prio2.length ? prio2 : prio1);\n        if (!arr.length) {\n            return null;\n        }\n        let id = _rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getItem(arr.sort());\n        delete this._walls[id];\n        return id;\n    }\n    _tryFeature(x, y, dx, dy) {\n        let featureName = _rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getWeightedValue(this._features);\n        let ctor = FEATURES[featureName];\n        let feature = ctor.createRandomAt(x, y, dx, dy, this._options);\n        if (!feature.isValid(this._isWallCallback, this._canBeDugCallback)) {\n            return false;\n        }\n        feature.create(this._digCallback);\n        if (feature instanceof _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Room\"]) {\n            this._rooms.push(feature);\n        }\n        if (feature instanceof _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Corridor\"]) {\n            feature.createPriorityWalls(this._priorityWallCallback);\n            this._corridors.push(feature);\n        }\n        return true;\n    }\n    _removeSurroundingWalls(cx, cy) {\n        let deltas = _constants_js__WEBPACK_IMPORTED_MODULE_3__[\"DIRS\"][4];\n        for (let i = 0; i < deltas.length; i++) {\n            let delta = deltas[i];\n            let x = cx + delta[0];\n            let y = cy + delta[1];\n            delete this._walls[x + \",\" + y];\n            x = cx + 2 * delta[0];\n            y = cy + 2 * delta[1];\n            delete this._walls[x + \",\" + y];\n        }\n    }\n    _getDiggingDirection(cx, cy) {\n        if (cx <= 0 || cy <= 0 || cx >= this._width - 1 || cy >= this._height - 1) {\n            return null;\n        }\n        let result = null;\n        let deltas = _constants_js__WEBPACK_IMPORTED_MODULE_3__[\"DIRS\"][4];\n        for (let i = 0; i < deltas.length; i++) {\n            let delta = deltas[i];\n            let x = cx + delta[0];\n            let y = cy + delta[1];\n            if (!this._map[x][y]) {\n                if (result) {\n                    return null;\n                }\n                result = delta;\n            }\n        }\n        if (!result) {\n            return null;\n        }\n        return [-result[0], -result[1]];\n    }\n    _addDoors() {\n        let data = this._map;\n        function isWallCallback(x, y) {\n            return (data[x][y] == 1);\n        }\n        ;\n        for (let i = 0; i < this._rooms.length; i++) {\n            let room = this._rooms[i];\n            room.clearDoors();\n            room.addDoors(isWallCallback);\n        }\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/digger.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dividedmaze.js":
/*!******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dividedmaze.js ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DividedMaze; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n\nclass DividedMaze extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super(...arguments);\n        this._stack = [];\n        this._map = [];\n    }\n    create(callback) {\n        let w = this._width;\n        let h = this._height;\n        this._map = [];\n        for (let i = 0; i < w; i++) {\n            this._map.push([]);\n            for (let j = 0; j < h; j++) {\n                let border = (i == 0 || j == 0 || i + 1 == w || j + 1 == h);\n                this._map[i].push(border ? 1 : 0);\n            }\n        }\n        this._stack = [\n            [1, 1, w - 2, h - 2]\n        ];\n        this._process();\n        for (let i = 0; i < w; i++) {\n            for (let j = 0; j < h; j++) {\n                callback(i, j, this._map[i][j]);\n            }\n        }\n        this._map = [];\n        return this;\n    }\n    _process() {\n        while (this._stack.length) {\n            let room = this._stack.shift();\n            this._partitionRoom(room);\n        }\n    }\n    _partitionRoom(room) {\n        let availX = [];\n        let availY = [];\n        for (let i = room[0] + 1; i < room[2]; i++) {\n            let top = this._map[i][room[1] - 1];\n            let bottom = this._map[i][room[3] + 1];\n            if (top && bottom && !(i % 2)) {\n                availX.push(i);\n            }\n        }\n        for (let j = room[1] + 1; j < room[3]; j++) {\n            let left = this._map[room[0] - 1][j];\n            let right = this._map[room[2] + 1][j];\n            if (left && right && !(j % 2)) {\n                availY.push(j);\n            }\n        }\n        if (!availX.length || !availY.length) {\n            return;\n        }\n        let x = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(availX);\n        let y = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(availY);\n        this._map[x][y] = 1;\n        let walls = [];\n        let w = [];\n        walls.push(w);\n        for (let i = room[0]; i < x; i++) {\n            this._map[i][y] = 1;\n            w.push([i, y]);\n        }\n        w = [];\n        walls.push(w);\n        for (let i = x + 1; i <= room[2]; i++) {\n            this._map[i][y] = 1;\n            w.push([i, y]);\n        }\n        w = [];\n        walls.push(w);\n        for (let j = room[1]; j < y; j++) {\n            this._map[x][j] = 1;\n            w.push([x, j]);\n        }\n        w = [];\n        walls.push(w);\n        for (let j = y + 1; j <= room[3]; j++) {\n            this._map[x][j] = 1;\n            w.push([x, j]);\n        }\n        let solid = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(walls);\n        for (let i = 0; i < walls.length; i++) {\n            let w = walls[i];\n            if (w == solid) {\n                continue;\n            }\n            let hole = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getItem(w);\n            this._map[hole[0]][hole[1]] = 0;\n        }\n        this._stack.push([room[0], room[1], x - 1, y - 1]);\n        this._stack.push([x + 1, room[1], room[2], y - 1]);\n        this._stack.push([room[0], y + 1, x - 1, room[3]]);\n        this._stack.push([x + 1, y + 1, room[2], room[3]]);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dividedmaze.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dungeon.js":
/*!**************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dungeon.js ***!
  \**************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Dungeon; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n\nclass Dungeon extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(width, height) {\n        super(width, height);\n        this._rooms = [];\n        this._corridors = [];\n    }\n    getRooms() { return this._rooms; }\n    getCorridors() { return this._corridors; }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dungeon.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/ellermaze.js":
/*!****************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/ellermaze.js ***!
  \****************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EllerMaze; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n\nfunction addToList(i, L, R) {\n    R[L[i + 1]] = R[i];\n    L[R[i]] = L[i + 1];\n    R[i] = i + 1;\n    L[i + 1] = i;\n}\nfunction removeFromList(i, L, R) {\n    R[L[i]] = R[i];\n    L[R[i]] = L[i];\n    R[i] = i;\n    L[i] = i;\n}\nclass EllerMaze extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    create(callback) {\n        let map = this._fillMap(1);\n        let w = Math.ceil((this._width - 2) / 2);\n        let rand = 9 / 24;\n        let L = [];\n        let R = [];\n        for (let i = 0; i < w; i++) {\n            L.push(i);\n            R.push(i);\n        }\n        L.push(w - 1);\n        let j;\n        for (j = 1; j + 3 < this._height; j += 2) {\n            for (let i = 0; i < w; i++) {\n                let x = 2 * i + 1;\n                let y = j;\n                map[x][y] = 0;\n                if (i != L[i + 1] && _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() > rand) {\n                    addToList(i, L, R);\n                    map[x + 1][y] = 0;\n                }\n                if (i != L[i] && _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() > rand) {\n                    removeFromList(i, L, R);\n                }\n                else {\n                    map[x][y + 1] = 0;\n                }\n            }\n        }\n        for (let i = 0; i < w; i++) {\n            let x = 2 * i + 1;\n            let y = j;\n            map[x][y] = 0;\n            if (i != L[i + 1] && (i == L[i] || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() > rand)) {\n                addToList(i, L, R);\n                map[x + 1][y] = 0;\n            }\n            removeFromList(i, L, R);\n        }\n        for (let i = 0; i < this._width; i++) {\n            for (let j = 0; j < this._height; j++) {\n                callback(i, j, map[i][j]);\n            }\n        }\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/ellermaze.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/features.js":
/*!***************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/features.js ***!
  \***************************************************************************************************************************************************/
/*! exports provided: Room, Corridor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Room\", function() { return Room; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Corridor\", function() { return Corridor; });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n;\nclass Feature {\n}\nclass Room extends Feature {\n    constructor(x1, y1, x2, y2, doorX, doorY) {\n        super();\n        this._x1 = x1;\n        this._y1 = y1;\n        this._x2 = x2;\n        this._y2 = y2;\n        this._doors = {};\n        if (doorX !== undefined && doorY !== undefined) {\n            this.addDoor(doorX, doorY);\n        }\n    }\n    ;\n    static createRandomAt(x, y, dx, dy, options) {\n        let min = options.roomWidth[0];\n        let max = options.roomWidth[1];\n        let width = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        min = options.roomHeight[0];\n        max = options.roomHeight[1];\n        let height = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        if (dx == 1) {\n            let y2 = y - Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * height);\n            return new this(x + 1, y2, x + width, y2 + height - 1, x, y);\n        }\n        if (dx == -1) {\n            let y2 = y - Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * height);\n            return new this(x - width, y2, x - 1, y2 + height - 1, x, y);\n        }\n        if (dy == 1) {\n            let x2 = x - Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * width);\n            return new this(x2, y + 1, x2 + width - 1, y + height, x, y);\n        }\n        if (dy == -1) {\n            let x2 = x - Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * width);\n            return new this(x2, y - height, x2 + width - 1, y - 1, x, y);\n        }\n        throw new Error(\"dx or dy must be 1 or -1\");\n    }\n    static createRandomCenter(cx, cy, options) {\n        let min = options.roomWidth[0];\n        let max = options.roomWidth[1];\n        let width = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        min = options.roomHeight[0];\n        max = options.roomHeight[1];\n        let height = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        let x1 = cx - Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * width);\n        let y1 = cy - Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * height);\n        let x2 = x1 + width - 1;\n        let y2 = y1 + height - 1;\n        return new this(x1, y1, x2, y2);\n    }\n    static createRandom(availWidth, availHeight, options) {\n        let min = options.roomWidth[0];\n        let max = options.roomWidth[1];\n        let width = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        min = options.roomHeight[0];\n        max = options.roomHeight[1];\n        let height = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        let left = availWidth - width - 1;\n        let top = availHeight - height - 1;\n        let x1 = 1 + Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * left);\n        let y1 = 1 + Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniform() * top);\n        let x2 = x1 + width - 1;\n        let y2 = y1 + height - 1;\n        return new this(x1, y1, x2, y2);\n    }\n    addDoor(x, y) {\n        this._doors[x + \",\" + y] = 1;\n        return this;\n    }\n    getDoors(cb) {\n        for (let key in this._doors) {\n            let parts = key.split(\",\");\n            cb(parseInt(parts[0]), parseInt(parts[1]));\n        }\n        return this;\n    }\n    clearDoors() {\n        this._doors = {};\n        return this;\n    }\n    addDoors(isWallCallback) {\n        let left = this._x1 - 1;\n        let right = this._x2 + 1;\n        let top = this._y1 - 1;\n        let bottom = this._y2 + 1;\n        for (let x = left; x <= right; x++) {\n            for (let y = top; y <= bottom; y++) {\n                if (x != left && x != right && y != top && y != bottom) {\n                    continue;\n                }\n                if (isWallCallback(x, y)) {\n                    continue;\n                }\n                this.addDoor(x, y);\n            }\n        }\n        return this;\n    }\n    debug() {\n        console.log(\"room\", this._x1, this._y1, this._x2, this._y2);\n    }\n    isValid(isWallCallback, canBeDugCallback) {\n        let left = this._x1 - 1;\n        let right = this._x2 + 1;\n        let top = this._y1 - 1;\n        let bottom = this._y2 + 1;\n        for (let x = left; x <= right; x++) {\n            for (let y = top; y <= bottom; y++) {\n                if (x == left || x == right || y == top || y == bottom) {\n                    if (!isWallCallback(x, y)) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!canBeDugCallback(x, y)) {\n                        return false;\n                    }\n                }\n            }\n        }\n        return true;\n    }\n    create(digCallback) {\n        let left = this._x1 - 1;\n        let right = this._x2 + 1;\n        let top = this._y1 - 1;\n        let bottom = this._y2 + 1;\n        let value = 0;\n        for (let x = left; x <= right; x++) {\n            for (let y = top; y <= bottom; y++) {\n                if (x + \",\" + y in this._doors) {\n                    value = 2;\n                }\n                else if (x == left || x == right || y == top || y == bottom) {\n                    value = 1;\n                }\n                else {\n                    value = 0;\n                }\n                digCallback(x, y, value);\n            }\n        }\n    }\n    getCenter() {\n        return [Math.round((this._x1 + this._x2) / 2), Math.round((this._y1 + this._y2) / 2)];\n    }\n    getLeft() { return this._x1; }\n    getRight() { return this._x2; }\n    getTop() { return this._y1; }\n    getBottom() { return this._y2; }\n}\nclass Corridor extends Feature {\n    constructor(startX, startY, endX, endY) {\n        super();\n        this._startX = startX;\n        this._startY = startY;\n        this._endX = endX;\n        this._endY = endY;\n        this._endsWithAWall = true;\n    }\n    static createRandomAt(x, y, dx, dy, options) {\n        let min = options.corridorLength[0];\n        let max = options.corridorLength[1];\n        let length = _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUniformInt(min, max);\n        return new this(x, y, x + dx * length, y + dy * length);\n    }\n    debug() {\n        console.log(\"corridor\", this._startX, this._startY, this._endX, this._endY);\n    }\n    isValid(isWallCallback, canBeDugCallback) {\n        let sx = this._startX;\n        let sy = this._startY;\n        let dx = this._endX - sx;\n        let dy = this._endY - sy;\n        let length = 1 + Math.max(Math.abs(dx), Math.abs(dy));\n        if (dx) {\n            dx = dx / Math.abs(dx);\n        }\n        if (dy) {\n            dy = dy / Math.abs(dy);\n        }\n        let nx = dy;\n        let ny = -dx;\n        let ok = true;\n        for (let i = 0; i < length; i++) {\n            let x = sx + i * dx;\n            let y = sy + i * dy;\n            if (!canBeDugCallback(x, y)) {\n                ok = false;\n            }\n            if (!isWallCallback(x + nx, y + ny)) {\n                ok = false;\n            }\n            if (!isWallCallback(x - nx, y - ny)) {\n                ok = false;\n            }\n            if (!ok) {\n                length = i;\n                this._endX = x - dx;\n                this._endY = y - dy;\n                break;\n            }\n        }\n        if (length == 0) {\n            return false;\n        }\n        if (length == 1 && isWallCallback(this._endX + dx, this._endY + dy)) {\n            return false;\n        }\n        let firstCornerBad = !isWallCallback(this._endX + dx + nx, this._endY + dy + ny);\n        let secondCornerBad = !isWallCallback(this._endX + dx - nx, this._endY + dy - ny);\n        this._endsWithAWall = isWallCallback(this._endX + dx, this._endY + dy);\n        if ((firstCornerBad || secondCornerBad) && this._endsWithAWall) {\n            return false;\n        }\n        return true;\n    }\n    create(digCallback) {\n        let sx = this._startX;\n        let sy = this._startY;\n        let dx = this._endX - sx;\n        let dy = this._endY - sy;\n        let length = 1 + Math.max(Math.abs(dx), Math.abs(dy));\n        if (dx) {\n            dx = dx / Math.abs(dx);\n        }\n        if (dy) {\n            dy = dy / Math.abs(dy);\n        }\n        for (let i = 0; i < length; i++) {\n            let x = sx + i * dx;\n            let y = sy + i * dy;\n            digCallback(x, y, 0);\n        }\n        return true;\n    }\n    createPriorityWalls(priorityWallCallback) {\n        if (!this._endsWithAWall) {\n            return;\n        }\n        let sx = this._startX;\n        let sy = this._startY;\n        let dx = this._endX - sx;\n        let dy = this._endY - sy;\n        if (dx) {\n            dx = dx / Math.abs(dx);\n        }\n        if (dy) {\n            dy = dy / Math.abs(dy);\n        }\n        let nx = dy;\n        let ny = -dx;\n        priorityWallCallback(this._endX + dx, this._endY + dy);\n        priorityWallCallback(this._endX + nx, this._endY + ny);\n        priorityWallCallback(this._endX - nx, this._endY - ny);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/features.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/iceymaze.js":
/*!***************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/iceymaze.js ***!
  \***************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return IceyMaze; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n\nclass IceyMaze extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(width, height, regularity = 0) {\n        super(width, height);\n        this._regularity = regularity;\n        this._map = [];\n    }\n    create(callback) {\n        let width = this._width;\n        let height = this._height;\n        let map = this._fillMap(1);\n        width -= (width % 2 ? 1 : 2);\n        height -= (height % 2 ? 1 : 2);\n        let cx = 0;\n        let cy = 0;\n        let nx = 0;\n        let ny = 0;\n        let done = 0;\n        let blocked = false;\n        let dirs = [\n            [0, 0],\n            [0, 0],\n            [0, 0],\n            [0, 0]\n        ];\n        do {\n            cx = 1 + 2 * Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() * (width - 1) / 2);\n            cy = 1 + 2 * Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() * (height - 1) / 2);\n            if (!done) {\n                map[cx][cy] = 0;\n            }\n            if (!map[cx][cy]) {\n                this._randomize(dirs);\n                do {\n                    if (Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() * (this._regularity + 1)) == 0) {\n                        this._randomize(dirs);\n                    }\n                    blocked = true;\n                    for (let i = 0; i < 4; i++) {\n                        nx = cx + dirs[i][0] * 2;\n                        ny = cy + dirs[i][1] * 2;\n                        if (this._isFree(map, nx, ny, width, height)) {\n                            map[nx][ny] = 0;\n                            map[cx + dirs[i][0]][cy + dirs[i][1]] = 0;\n                            cx = nx;\n                            cy = ny;\n                            blocked = false;\n                            done++;\n                            break;\n                        }\n                    }\n                } while (!blocked);\n            }\n        } while (done + 1 < width * height / 4);\n        for (let i = 0; i < this._width; i++) {\n            for (let j = 0; j < this._height; j++) {\n                callback(i, j, map[i][j]);\n            }\n        }\n        this._map = [];\n        return this;\n    }\n    _randomize(dirs) {\n        for (let i = 0; i < 4; i++) {\n            dirs[i][0] = 0;\n            dirs[i][1] = 0;\n        }\n        switch (Math.floor(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform() * 4)) {\n            case 0:\n                dirs[0][0] = -1;\n                dirs[1][0] = 1;\n                dirs[2][1] = -1;\n                dirs[3][1] = 1;\n                break;\n            case 1:\n                dirs[3][0] = -1;\n                dirs[2][0] = 1;\n                dirs[1][1] = -1;\n                dirs[0][1] = 1;\n                break;\n            case 2:\n                dirs[2][0] = -1;\n                dirs[3][0] = 1;\n                dirs[0][1] = -1;\n                dirs[1][1] = 1;\n                break;\n            case 3:\n                dirs[1][0] = -1;\n                dirs[0][0] = 1;\n                dirs[3][1] = -1;\n                dirs[2][1] = 1;\n                break;\n        }\n    }\n    _isFree(map, x, y, width, height) {\n        if (x < 1 || y < 1 || x >= width || y >= height) {\n            return false;\n        }\n        return map[x][y];\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/iceymaze.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/index.js":
/*!************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/index.js ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _arena_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arena.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/arena.js\");\n/* harmony import */ var _uniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uniform.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/uniform.js\");\n/* harmony import */ var _cellular_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cellular.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/cellular.js\");\n/* harmony import */ var _digger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./digger.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/digger.js\");\n/* harmony import */ var _ellermaze_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ellermaze.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/ellermaze.js\");\n/* harmony import */ var _dividedmaze_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dividedmaze.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dividedmaze.js\");\n/* harmony import */ var _iceymaze_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./iceymaze.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/iceymaze.js\");\n/* harmony import */ var _rogue_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./rogue.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/rogue.js\");\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ Arena: _arena_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], Uniform: _uniform_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], Cellular: _cellular_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], Digger: _digger_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], EllerMaze: _ellermaze_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], DividedMaze: _dividedmaze_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], IceyMaze: _iceymaze_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"], Rogue: _rogue_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"] });\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/index.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js":
/*!**********************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Map; });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n\n;\nclass Map {\n    constructor(width = _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DEFAULT_WIDTH\"], height = _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DEFAULT_HEIGHT\"]) {\n        this._width = width;\n        this._height = height;\n    }\n    ;\n    _fillMap(value) {\n        let map = [];\n        for (let i = 0; i < this._width; i++) {\n            map.push([]);\n            for (let j = 0; j < this._height; j++) {\n                map[i].push(value);\n            }\n        }\n        return map;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/rogue.js":
/*!************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/rogue.js ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Rogue; });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/map.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n\n\n\nclass Rogue extends _map_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(width, height, options) {\n        super(width, height);\n        this.map = [];\n        this.rooms = [];\n        this.connectedCells = [];\n        options = Object.assign({\n            cellWidth: 3,\n            cellHeight: 3\n        }, options);\n        if (!options.hasOwnProperty(\"roomWidth\")) {\n            options[\"roomWidth\"] = this._calculateRoomSize(this._width, options[\"cellWidth\"]);\n        }\n        if (!options.hasOwnProperty(\"roomHeight\")) {\n            options[\"roomHeight\"] = this._calculateRoomSize(this._height, options[\"cellHeight\"]);\n        }\n        this._options = options;\n    }\n    create(callback) {\n        this.map = this._fillMap(1);\n        this.rooms = [];\n        this.connectedCells = [];\n        this._initRooms();\n        this._connectRooms();\n        this._connectUnconnectedRooms();\n        this._createRandomRoomConnections();\n        this._createRooms();\n        this._createCorridors();\n        if (callback) {\n            for (let i = 0; i < this._width; i++) {\n                for (let j = 0; j < this._height; j++) {\n                    callback(i, j, this.map[i][j]);\n                }\n            }\n        }\n        return this;\n    }\n    _calculateRoomSize(size, cell) {\n        let max = Math.floor((size / cell) * 0.8);\n        let min = Math.floor((size / cell) * 0.25);\n        if (min < 2) {\n            min = 2;\n        }\n        if (max < 2) {\n            max = 2;\n        }\n        return [min, max];\n    }\n    _initRooms() {\n        for (let i = 0; i < this._options.cellWidth; i++) {\n            this.rooms.push([]);\n            for (let j = 0; j < this._options.cellHeight; j++) {\n                this.rooms[i].push({ \"x\": 0, \"y\": 0, \"width\": 0, \"height\": 0, \"connections\": [], \"cellx\": i, \"celly\": j });\n            }\n        }\n    }\n    _connectRooms() {\n        let cgx = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(0, this._options.cellWidth - 1);\n        let cgy = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(0, this._options.cellHeight - 1);\n        let idx;\n        let ncgx;\n        let ncgy;\n        let found = false;\n        let room;\n        let otherRoom;\n        let dirToCheck;\n        do {\n            dirToCheck = [0, 2, 4, 6];\n            dirToCheck = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].shuffle(dirToCheck);\n            do {\n                found = false;\n                idx = dirToCheck.pop();\n                ncgx = cgx + _constants_js__WEBPACK_IMPORTED_MODULE_2__[\"DIRS\"][8][idx][0];\n                ncgy = cgy + _constants_js__WEBPACK_IMPORTED_MODULE_2__[\"DIRS\"][8][idx][1];\n                if (ncgx < 0 || ncgx >= this._options.cellWidth) {\n                    continue;\n                }\n                if (ncgy < 0 || ncgy >= this._options.cellHeight) {\n                    continue;\n                }\n                room = this.rooms[cgx][cgy];\n                if (room[\"connections\"].length > 0) {\n                    if (room[\"connections\"][0][0] == ncgx && room[\"connections\"][0][1] == ncgy) {\n                        break;\n                    }\n                }\n                otherRoom = this.rooms[ncgx][ncgy];\n                if (otherRoom[\"connections\"].length == 0) {\n                    otherRoom[\"connections\"].push([cgx, cgy]);\n                    this.connectedCells.push([ncgx, ncgy]);\n                    cgx = ncgx;\n                    cgy = ncgy;\n                    found = true;\n                }\n            } while (dirToCheck.length > 0 && found == false);\n        } while (dirToCheck.length > 0);\n    }\n    _connectUnconnectedRooms() {\n        let cw = this._options.cellWidth;\n        let ch = this._options.cellHeight;\n        this.connectedCells = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].shuffle(this.connectedCells);\n        let room;\n        let otherRoom;\n        let validRoom;\n        for (let i = 0; i < this._options.cellWidth; i++) {\n            for (let j = 0; j < this._options.cellHeight; j++) {\n                room = this.rooms[i][j];\n                if (room[\"connections\"].length == 0) {\n                    let directions = [0, 2, 4, 6];\n                    directions = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].shuffle(directions);\n                    validRoom = false;\n                    do {\n                        let dirIdx = directions.pop();\n                        let newI = i + _constants_js__WEBPACK_IMPORTED_MODULE_2__[\"DIRS\"][8][dirIdx][0];\n                        let newJ = j + _constants_js__WEBPACK_IMPORTED_MODULE_2__[\"DIRS\"][8][dirIdx][1];\n                        if (newI < 0 || newI >= cw || newJ < 0 || newJ >= ch) {\n                            continue;\n                        }\n                        otherRoom = this.rooms[newI][newJ];\n                        validRoom = true;\n                        if (otherRoom[\"connections\"].length == 0) {\n                            break;\n                        }\n                        for (let k = 0; k < otherRoom[\"connections\"].length; k++) {\n                            if (otherRoom[\"connections\"][k][0] == i && otherRoom[\"connections\"][k][1] == j) {\n                                validRoom = false;\n                                break;\n                            }\n                        }\n                        if (validRoom) {\n                            break;\n                        }\n                    } while (directions.length);\n                    if (validRoom) {\n                        room[\"connections\"].push([otherRoom[\"cellx\"], otherRoom[\"celly\"]]);\n                    }\n                    else {\n                        console.log(\"-- Unable to connect room.\");\n                    }\n                }\n            }\n        }\n    }\n    _createRandomRoomConnections() {\n    }\n    _createRooms() {\n        let w = this._width;\n        let h = this._height;\n        let cw = this._options.cellWidth;\n        let ch = this._options.cellHeight;\n        let cwp = Math.floor(this._width / cw);\n        let chp = Math.floor(this._height / ch);\n        let roomw;\n        let roomh;\n        let roomWidth = this._options[\"roomWidth\"];\n        let roomHeight = this._options[\"roomHeight\"];\n        let sx;\n        let sy;\n        let otherRoom;\n        for (let i = 0; i < cw; i++) {\n            for (let j = 0; j < ch; j++) {\n                sx = cwp * i;\n                sy = chp * j;\n                if (sx == 0) {\n                    sx = 1;\n                }\n                if (sy == 0) {\n                    sy = 1;\n                }\n                roomw = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(roomWidth[0], roomWidth[1]);\n                roomh = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(roomHeight[0], roomHeight[1]);\n                if (j > 0) {\n                    otherRoom = this.rooms[i][j - 1];\n                    while (sy - (otherRoom[\"y\"] + otherRoom[\"height\"]) < 3) {\n                        sy++;\n                    }\n                }\n                if (i > 0) {\n                    otherRoom = this.rooms[i - 1][j];\n                    while (sx - (otherRoom[\"x\"] + otherRoom[\"width\"]) < 3) {\n                        sx++;\n                    }\n                }\n                let sxOffset = Math.round(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(0, cwp - roomw) / 2);\n                let syOffset = Math.round(_rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(0, chp - roomh) / 2);\n                while (sx + sxOffset + roomw >= w) {\n                    if (sxOffset) {\n                        sxOffset--;\n                    }\n                    else {\n                        roomw--;\n                    }\n                }\n                while (sy + syOffset + roomh >= h) {\n                    if (syOffset) {\n                        syOffset--;\n                    }\n                    else {\n                        roomh--;\n                    }\n                }\n                sx = sx + sxOffset;\n                sy = sy + syOffset;\n                this.rooms[i][j][\"x\"] = sx;\n                this.rooms[i][j][\"y\"] = sy;\n                this.rooms[i][j][\"width\"] = roomw;\n                this.rooms[i][j][\"height\"] = roomh;\n                for (let ii = sx; ii < sx + roomw; ii++) {\n                    for (let jj = sy; jj < sy + roomh; jj++) {\n                        this.map[ii][jj] = 0;\n                    }\n                }\n            }\n        }\n    }\n    _getWallPosition(aRoom, aDirection) {\n        let rx;\n        let ry;\n        let door;\n        if (aDirection == 1 || aDirection == 3) {\n            rx = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(aRoom[\"x\"] + 1, aRoom[\"x\"] + aRoom[\"width\"] - 2);\n            if (aDirection == 1) {\n                ry = aRoom[\"y\"] - 2;\n                door = ry + 1;\n            }\n            else {\n                ry = aRoom[\"y\"] + aRoom[\"height\"] + 1;\n                door = ry - 1;\n            }\n            this.map[rx][door] = 0;\n        }\n        else {\n            ry = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniformInt(aRoom[\"y\"] + 1, aRoom[\"y\"] + aRoom[\"height\"] - 2);\n            if (aDirection == 2) {\n                rx = aRoom[\"x\"] + aRoom[\"width\"] + 1;\n                door = rx - 1;\n            }\n            else {\n                rx = aRoom[\"x\"] - 2;\n                door = rx + 1;\n            }\n            this.map[door][ry] = 0;\n        }\n        return [rx, ry];\n    }\n    _drawCorridor(startPosition, endPosition) {\n        let xOffset = endPosition[0] - startPosition[0];\n        let yOffset = endPosition[1] - startPosition[1];\n        let xpos = startPosition[0];\n        let ypos = startPosition[1];\n        let tempDist;\n        let xDir;\n        let yDir;\n        let move;\n        let moves = [];\n        let xAbs = Math.abs(xOffset);\n        let yAbs = Math.abs(yOffset);\n        let percent = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getUniform();\n        let firstHalf = percent;\n        let secondHalf = 1 - percent;\n        xDir = xOffset > 0 ? 2 : 6;\n        yDir = yOffset > 0 ? 4 : 0;\n        if (xAbs < yAbs) {\n            tempDist = Math.ceil(yAbs * firstHalf);\n            moves.push([yDir, tempDist]);\n            moves.push([xDir, xAbs]);\n            tempDist = Math.floor(yAbs * secondHalf);\n            moves.push([yDir, tempDist]);\n        }\n        else {\n            tempDist = Math.ceil(xAbs * firstHalf);\n            moves.push([xDir, tempDist]);\n            moves.push([yDir, yAbs]);\n            tempDist = Math.floor(xAbs * secondHalf);\n            moves.push([xDir, tempDist]);\n        }\n        this.map[xpos][ypos] = 0;\n        while (moves.length > 0) {\n            move = moves.pop();\n            while (move[1] > 0) {\n                xpos += _constants_js__WEBPACK_IMPORTED_MODULE_2__[\"DIRS\"][8][move[0]][0];\n                ypos += _constants_js__WEBPACK_IMPORTED_MODULE_2__[\"DIRS\"][8][move[0]][1];\n                this.map[xpos][ypos] = 0;\n                move[1] = move[1] - 1;\n            }\n        }\n    }\n    _createCorridors() {\n        let cw = this._options.cellWidth;\n        let ch = this._options.cellHeight;\n        let room;\n        let connection;\n        let otherRoom;\n        let wall;\n        let otherWall;\n        for (let i = 0; i < cw; i++) {\n            for (let j = 0; j < ch; j++) {\n                room = this.rooms[i][j];\n                for (let k = 0; k < room[\"connections\"].length; k++) {\n                    connection = room[\"connections\"][k];\n                    otherRoom = this.rooms[connection[0]][connection[1]];\n                    if (otherRoom[\"cellx\"] > room[\"cellx\"]) {\n                        wall = 2;\n                        otherWall = 4;\n                    }\n                    else if (otherRoom[\"cellx\"] < room[\"cellx\"]) {\n                        wall = 4;\n                        otherWall = 2;\n                    }\n                    else if (otherRoom[\"celly\"] > room[\"celly\"]) {\n                        wall = 3;\n                        otherWall = 1;\n                    }\n                    else {\n                        wall = 1;\n                        otherWall = 3;\n                    }\n                    this._drawCorridor(this._getWallPosition(room, wall), this._getWallPosition(otherRoom, otherWall));\n                }\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/rogue.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/uniform.js":
/*!**************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/uniform.js ***!
  \**************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Uniform; });\n/* harmony import */ var _dungeon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dungeon.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/dungeon.js\");\n/* harmony import */ var _features_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./features.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/features.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\n\n\n;\nclass Uniform extends _dungeon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(width, height, options) {\n        super(width, height);\n        this._options = {\n            roomWidth: [3, 9],\n            roomHeight: [3, 5],\n            roomDugPercentage: 0.1,\n            timeLimit: 1000\n        };\n        Object.assign(this._options, options);\n        this._map = [];\n        this._dug = 0;\n        this._roomAttempts = 20;\n        this._corridorAttempts = 20;\n        this._connected = [];\n        this._unconnected = [];\n        this._digCallback = this._digCallback.bind(this);\n        this._canBeDugCallback = this._canBeDugCallback.bind(this);\n        this._isWallCallback = this._isWallCallback.bind(this);\n    }\n    create(callback) {\n        let t1 = Date.now();\n        while (1) {\n            let t2 = Date.now();\n            if (t2 - t1 > this._options.timeLimit) {\n                return null;\n            }\n            this._map = this._fillMap(1);\n            this._dug = 0;\n            this._rooms = [];\n            this._unconnected = [];\n            this._generateRooms();\n            if (this._rooms.length < 2) {\n                continue;\n            }\n            if (this._generateCorridors()) {\n                break;\n            }\n        }\n        if (callback) {\n            for (let i = 0; i < this._width; i++) {\n                for (let j = 0; j < this._height; j++) {\n                    callback(i, j, this._map[i][j]);\n                }\n            }\n        }\n        return this;\n    }\n    _generateRooms() {\n        let w = this._width - 2;\n        let h = this._height - 2;\n        let room;\n        do {\n            room = this._generateRoom();\n            if (this._dug / (w * h) > this._options.roomDugPercentage) {\n                break;\n            }\n        } while (room);\n    }\n    _generateRoom() {\n        let count = 0;\n        while (count < this._roomAttempts) {\n            count++;\n            let room = _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Room\"].createRandom(this._width, this._height, this._options);\n            if (!room.isValid(this._isWallCallback, this._canBeDugCallback)) {\n                continue;\n            }\n            room.create(this._digCallback);\n            this._rooms.push(room);\n            return room;\n        }\n        return null;\n    }\n    _generateCorridors() {\n        let cnt = 0;\n        while (cnt < this._corridorAttempts) {\n            cnt++;\n            this._corridors = [];\n            this._map = this._fillMap(1);\n            for (let i = 0; i < this._rooms.length; i++) {\n                let room = this._rooms[i];\n                room.clearDoors();\n                room.create(this._digCallback);\n            }\n            this._unconnected = _rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].shuffle(this._rooms.slice());\n            this._connected = [];\n            if (this._unconnected.length) {\n                this._connected.push(this._unconnected.pop());\n            }\n            while (1) {\n                let connected = _rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getItem(this._connected);\n                if (!connected) {\n                    break;\n                }\n                let room1 = this._closestRoom(this._unconnected, connected);\n                if (!room1) {\n                    break;\n                }\n                let room2 = this._closestRoom(this._connected, room1);\n                if (!room2) {\n                    break;\n                }\n                let ok = this._connectRooms(room1, room2);\n                if (!ok) {\n                    break;\n                }\n                if (!this._unconnected.length) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    ;\n    _closestRoom(rooms, room) {\n        let dist = Infinity;\n        let center = room.getCenter();\n        let result = null;\n        for (let i = 0; i < rooms.length; i++) {\n            let r = rooms[i];\n            let c = r.getCenter();\n            let dx = c[0] - center[0];\n            let dy = c[1] - center[1];\n            let d = dx * dx + dy * dy;\n            if (d < dist) {\n                dist = d;\n                result = r;\n            }\n        }\n        return result;\n    }\n    _connectRooms(room1, room2) {\n        let center1 = room1.getCenter();\n        let center2 = room2.getCenter();\n        let diffX = center2[0] - center1[0];\n        let diffY = center2[1] - center1[1];\n        let start;\n        let end;\n        let dirIndex1, dirIndex2, min, max, index;\n        if (Math.abs(diffX) < Math.abs(diffY)) {\n            dirIndex1 = (diffY > 0 ? 2 : 0);\n            dirIndex2 = (dirIndex1 + 2) % 4;\n            min = room2.getLeft();\n            max = room2.getRight();\n            index = 0;\n        }\n        else {\n            dirIndex1 = (diffX > 0 ? 1 : 3);\n            dirIndex2 = (dirIndex1 + 2) % 4;\n            min = room2.getTop();\n            max = room2.getBottom();\n            index = 1;\n        }\n        start = this._placeInWall(room1, dirIndex1);\n        if (!start) {\n            return false;\n        }\n        if (start[index] >= min && start[index] <= max) {\n            end = start.slice();\n            let value = 0;\n            switch (dirIndex2) {\n                case 0:\n                    value = room2.getTop() - 1;\n                    break;\n                case 1:\n                    value = room2.getRight() + 1;\n                    break;\n                case 2:\n                    value = room2.getBottom() + 1;\n                    break;\n                case 3:\n                    value = room2.getLeft() - 1;\n                    break;\n            }\n            end[(index + 1) % 2] = value;\n            this._digLine([start, end]);\n        }\n        else if (start[index] < min - 1 || start[index] > max + 1) {\n            let diff = start[index] - center2[index];\n            let rotation = 0;\n            switch (dirIndex2) {\n                case 0:\n                case 1:\n                    rotation = (diff < 0 ? 3 : 1);\n                    break;\n                case 2:\n                case 3:\n                    rotation = (diff < 0 ? 1 : 3);\n                    break;\n            }\n            dirIndex2 = (dirIndex2 + rotation) % 4;\n            end = this._placeInWall(room2, dirIndex2);\n            if (!end) {\n                return false;\n            }\n            let mid = [0, 0];\n            mid[index] = start[index];\n            let index2 = (index + 1) % 2;\n            mid[index2] = end[index2];\n            this._digLine([start, mid, end]);\n        }\n        else {\n            let index2 = (index + 1) % 2;\n            end = this._placeInWall(room2, dirIndex2);\n            if (!end) {\n                return false;\n            }\n            let mid = Math.round((end[index2] + start[index2]) / 2);\n            let mid1 = [0, 0];\n            let mid2 = [0, 0];\n            mid1[index] = start[index];\n            mid1[index2] = mid;\n            mid2[index] = end[index];\n            mid2[index2] = mid;\n            this._digLine([start, mid1, mid2, end]);\n        }\n        room1.addDoor(start[0], start[1]);\n        room2.addDoor(end[0], end[1]);\n        index = this._unconnected.indexOf(room1);\n        if (index != -1) {\n            this._unconnected.splice(index, 1);\n            this._connected.push(room1);\n        }\n        index = this._unconnected.indexOf(room2);\n        if (index != -1) {\n            this._unconnected.splice(index, 1);\n            this._connected.push(room2);\n        }\n        return true;\n    }\n    _placeInWall(room, dirIndex) {\n        let start = [0, 0];\n        let dir = [0, 0];\n        let length = 0;\n        switch (dirIndex) {\n            case 0:\n                dir = [1, 0];\n                start = [room.getLeft(), room.getTop() - 1];\n                length = room.getRight() - room.getLeft() + 1;\n                break;\n            case 1:\n                dir = [0, 1];\n                start = [room.getRight() + 1, room.getTop()];\n                length = room.getBottom() - room.getTop() + 1;\n                break;\n            case 2:\n                dir = [1, 0];\n                start = [room.getLeft(), room.getBottom() + 1];\n                length = room.getRight() - room.getLeft() + 1;\n                break;\n            case 3:\n                dir = [0, 1];\n                start = [room.getLeft() - 1, room.getTop()];\n                length = room.getBottom() - room.getTop() + 1;\n                break;\n        }\n        let avail = [];\n        let lastBadIndex = -2;\n        for (let i = 0; i < length; i++) {\n            let x = start[0] + i * dir[0];\n            let y = start[1] + i * dir[1];\n            avail.push(null);\n            let isWall = (this._map[x][y] == 1);\n            if (isWall) {\n                if (lastBadIndex != i - 1) {\n                    avail[i] = [x, y];\n                }\n            }\n            else {\n                lastBadIndex = i;\n                if (i) {\n                    avail[i - 1] = null;\n                }\n            }\n        }\n        for (let i = avail.length - 1; i >= 0; i--) {\n            if (!avail[i]) {\n                avail.splice(i, 1);\n            }\n        }\n        return (avail.length ? _rng_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getItem(avail) : null);\n    }\n    _digLine(points) {\n        for (let i = 1; i < points.length; i++) {\n            let start = points[i - 1];\n            let end = points[i];\n            let corridor = new _features_js__WEBPACK_IMPORTED_MODULE_1__[\"Corridor\"](start[0], start[1], end[0], end[1]);\n            corridor.create(this._digCallback);\n            this._corridors.push(corridor);\n        }\n    }\n    _digCallback(x, y, value) {\n        this._map[x][y] = value;\n        if (value == 0) {\n            this._dug++;\n        }\n    }\n    _isWallCallback(x, y) {\n        if (x < 0 || y < 0 || x >= this._width || y >= this._height) {\n            return false;\n        }\n        return (this._map[x][y] == 1);\n    }\n    _canBeDugCallback(x, y) {\n        if (x < 1 || y < 1 || x + 1 >= this._width || y + 1 >= this._height) {\n            return false;\n        }\n        return (this._map[x][y] == 1);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/map/uniform.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/index.js":
/*!**************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/index.js ***!
  \**************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _simplex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simplex.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/simplex.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ Simplex: _simplex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/index.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/noise.js":
/*!**************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/noise.js ***!
  \**************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Noise; });\nclass Noise {\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/noise.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/simplex.js":
/*!****************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/simplex.js ***!
  \****************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Simplex; });\n/* harmony import */ var _noise_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./noise.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/noise.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js\");\n\n\n\nconst F2 = 0.5 * (Math.sqrt(3) - 1);\nconst G2 = (3 - Math.sqrt(3)) / 6;\nclass Simplex extends _noise_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gradients = 256) {\n        super();\n        this._gradients = [\n            [0, -1],\n            [1, -1],\n            [1, 0],\n            [1, 1],\n            [0, 1],\n            [-1, 1],\n            [-1, 0],\n            [-1, -1]\n        ];\n        let permutations = [];\n        for (let i = 0; i < gradients; i++) {\n            permutations.push(i);\n        }\n        permutations = _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].shuffle(permutations);\n        this._perms = [];\n        this._indexes = [];\n        for (let i = 0; i < 2 * gradients; i++) {\n            this._perms.push(permutations[i % gradients]);\n            this._indexes.push(this._perms[i] % this._gradients.length);\n        }\n    }\n    get(xin, yin) {\n        let perms = this._perms;\n        let indexes = this._indexes;\n        let count = perms.length / 2;\n        let n0 = 0, n1 = 0, n2 = 0, gi;\n        let s = (xin + yin) * F2;\n        let i = Math.floor(xin + s);\n        let j = Math.floor(yin + s);\n        let t = (i + j) * G2;\n        let X0 = i - t;\n        let Y0 = j - t;\n        let x0 = xin - X0;\n        let y0 = yin - Y0;\n        let i1, j1;\n        if (x0 > y0) {\n            i1 = 1;\n            j1 = 0;\n        }\n        else {\n            i1 = 0;\n            j1 = 1;\n        }\n        let x1 = x0 - i1 + G2;\n        let y1 = y0 - j1 + G2;\n        let x2 = x0 - 1 + 2 * G2;\n        let y2 = y0 - 1 + 2 * G2;\n        let ii = Object(_util_js__WEBPACK_IMPORTED_MODULE_2__[\"mod\"])(i, count);\n        let jj = Object(_util_js__WEBPACK_IMPORTED_MODULE_2__[\"mod\"])(j, count);\n        let t0 = 0.5 - x0 * x0 - y0 * y0;\n        if (t0 >= 0) {\n            t0 *= t0;\n            gi = indexes[ii + perms[jj]];\n            let grad = this._gradients[gi];\n            n0 = t0 * t0 * (grad[0] * x0 + grad[1] * y0);\n        }\n        let t1 = 0.5 - x1 * x1 - y1 * y1;\n        if (t1 >= 0) {\n            t1 *= t1;\n            gi = indexes[ii + i1 + perms[jj + j1]];\n            let grad = this._gradients[gi];\n            n1 = t1 * t1 * (grad[0] * x1 + grad[1] * y1);\n        }\n        let t2 = 0.5 - x2 * x2 - y2 * y2;\n        if (t2 >= 0) {\n            t2 *= t2;\n            gi = indexes[ii + 1 + perms[jj + 1]];\n            let grad = this._gradients[gi];\n            n2 = t2 * t2 * (grad[0] * x2 + grad[1] * y2);\n        }\n        return 70 * (n0 + n1 + n2);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/noise/simplex.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/astar.js":
/*!*************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/astar.js ***!
  \*************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AStar; });\n/* harmony import */ var _path_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./path.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/path.js\");\n\nclass AStar extends _path_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(toX, toY, passableCallback, options = {}) {\n        super(toX, toY, passableCallback, options);\n        this._todo = [];\n        this._done = {};\n    }\n    compute(fromX, fromY, callback) {\n        this._todo = [];\n        this._done = {};\n        this._fromX = fromX;\n        this._fromY = fromY;\n        this._add(this._toX, this._toY, null);\n        while (this._todo.length) {\n            let item = this._todo.shift();\n            let id = item.x + \",\" + item.y;\n            if (id in this._done) {\n                continue;\n            }\n            this._done[id] = item;\n            if (item.x == fromX && item.y == fromY) {\n                break;\n            }\n            let neighbors = this._getNeighbors(item.x, item.y);\n            for (let i = 0; i < neighbors.length; i++) {\n                let neighbor = neighbors[i];\n                let x = neighbor[0];\n                let y = neighbor[1];\n                let id = x + \",\" + y;\n                if (id in this._done) {\n                    continue;\n                }\n                this._add(x, y, item);\n            }\n        }\n        let item = this._done[fromX + \",\" + fromY];\n        if (!item) {\n            return;\n        }\n        while (item) {\n            callback(item.x, item.y);\n            item = item.prev;\n        }\n    }\n    _add(x, y, prev) {\n        let h = this._distance(x, y);\n        let obj = {\n            x: x,\n            y: y,\n            prev: prev,\n            g: (prev ? prev.g + 1 : 0),\n            h: h\n        };\n        let f = obj.g + obj.h;\n        for (let i = 0; i < this._todo.length; i++) {\n            let item = this._todo[i];\n            let itemF = item.g + item.h;\n            if (f < itemF || (f == itemF && h < item.h)) {\n                this._todo.splice(i, 0, obj);\n                return;\n            }\n        }\n        this._todo.push(obj);\n    }\n    _distance(x, y) {\n        switch (this._options.topology) {\n            case 4:\n                return (Math.abs(x - this._fromX) + Math.abs(y - this._fromY));\n                break;\n            case 6:\n                let dx = Math.abs(x - this._fromX);\n                let dy = Math.abs(y - this._fromY);\n                return dy + Math.max(0, (dx - dy) / 2);\n                break;\n            case 8:\n                return Math.max(Math.abs(x - this._fromX), Math.abs(y - this._fromY));\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/astar.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/dijkstra.js":
/*!****************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/dijkstra.js ***!
  \****************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Dijkstra; });\n/* harmony import */ var _path_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./path.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/path.js\");\n\nclass Dijkstra extends _path_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(toX, toY, passableCallback, options) {\n        super(toX, toY, passableCallback, options);\n        this._computed = {};\n        this._todo = [];\n        this._add(toX, toY, null);\n    }\n    compute(fromX, fromY, callback) {\n        let key = fromX + \",\" + fromY;\n        if (!(key in this._computed)) {\n            this._compute(fromX, fromY);\n        }\n        if (!(key in this._computed)) {\n            return;\n        }\n        let item = this._computed[key];\n        while (item) {\n            callback(item.x, item.y);\n            item = item.prev;\n        }\n    }\n    _compute(fromX, fromY) {\n        while (this._todo.length) {\n            let item = this._todo.shift();\n            if (item.x == fromX && item.y == fromY) {\n                return;\n            }\n            let neighbors = this._getNeighbors(item.x, item.y);\n            for (let i = 0; i < neighbors.length; i++) {\n                let neighbor = neighbors[i];\n                let x = neighbor[0];\n                let y = neighbor[1];\n                let id = x + \",\" + y;\n                if (id in this._computed) {\n                    continue;\n                }\n                this._add(x, y, item);\n            }\n        }\n    }\n    _add(x, y, prev) {\n        let obj = {\n            x: x,\n            y: y,\n            prev: prev\n        };\n        this._computed[x + \",\" + y] = obj;\n        this._todo.push(obj);\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/dijkstra.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/index.js":
/*!*************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/index.js ***!
  \*************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dijkstra_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dijkstra.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/dijkstra.js\");\n/* harmony import */ var _astar_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./astar.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/astar.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ Dijkstra: _dijkstra_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], AStar: _astar_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] });\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/index.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/path.js":
/*!************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/path.js ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Path; });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/constants.js\");\n\nclass Path {\n    constructor(toX, toY, passableCallback, options = {}) {\n        this._toX = toX;\n        this._toY = toY;\n        this._passableCallback = passableCallback;\n        this._options = Object.assign({\n            topology: 8\n        }, options);\n        this._dirs = _constants_js__WEBPACK_IMPORTED_MODULE_0__[\"DIRS\"][this._options.topology];\n        if (this._options.topology == 8) {\n            this._dirs = [\n                this._dirs[0],\n                this._dirs[2],\n                this._dirs[4],\n                this._dirs[6],\n                this._dirs[1],\n                this._dirs[3],\n                this._dirs[5],\n                this._dirs[7]\n            ];\n        }\n    }\n    _getNeighbors(cx, cy) {\n        let result = [];\n        for (let i = 0; i < this._dirs.length; i++) {\n            let dir = this._dirs[i];\n            let x = cx + dir[0];\n            let y = cy + dir[1];\n            if (!this._passableCallback(x, y)) {\n                continue;\n            }\n            result.push([x, y]);\n        }\n        return result;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/path/path.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js":
/*!******************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst FRAC = 2.3283064365386963e-10;\nclass RNG {\n    constructor() {\n        this._seed = 0;\n        this._s0 = 0;\n        this._s1 = 0;\n        this._s2 = 0;\n        this._c = 0;\n    }\n    getSeed() { return this._seed; }\n    setSeed(seed) {\n        seed = (seed < 1 ? 1 / seed : seed);\n        this._seed = seed;\n        this._s0 = (seed >>> 0) * FRAC;\n        seed = (seed * 69069 + 1) >>> 0;\n        this._s1 = seed * FRAC;\n        seed = (seed * 69069 + 1) >>> 0;\n        this._s2 = seed * FRAC;\n        this._c = 1;\n        return this;\n    }\n    getUniform() {\n        let t = 2091639 * this._s0 + this._c * FRAC;\n        this._s0 = this._s1;\n        this._s1 = this._s2;\n        this._c = t | 0;\n        this._s2 = t - this._c;\n        return this._s2;\n    }\n    getUniformInt(lowerBound, upperBound) {\n        let max = Math.max(lowerBound, upperBound);\n        let min = Math.min(lowerBound, upperBound);\n        return Math.floor(this.getUniform() * (max - min + 1)) + min;\n    }\n    getNormal(mean = 0, stddev = 1) {\n        let u, v, r;\n        do {\n            u = 2 * this.getUniform() - 1;\n            v = 2 * this.getUniform() - 1;\n            r = u * u + v * v;\n        } while (r > 1 || r == 0);\n        let gauss = u * Math.sqrt(-2 * Math.log(r) / r);\n        return mean + gauss * stddev;\n    }\n    getPercentage() {\n        return 1 + Math.floor(this.getUniform() * 100);\n    }\n    getItem(array) {\n        if (!array.length) {\n            return null;\n        }\n        return array[Math.floor(this.getUniform() * array.length)];\n    }\n    shuffle(array) {\n        let result = [];\n        let clone = array.slice();\n        while (clone.length) {\n            let index = clone.indexOf(this.getItem(clone));\n            result.push(clone.splice(index, 1)[0]);\n        }\n        return result;\n    }\n    getWeightedValue(data) {\n        let total = 0;\n        for (let id in data) {\n            total += data[id];\n        }\n        let random = this.getUniform() * total;\n        let id, part = 0;\n        for (id in data) {\n            part += data[id];\n            if (random < part) {\n                return id;\n            }\n        }\n        return id;\n    }\n    getState() { return [this._s0, this._s1, this._s2, this._c]; }\n    setState(state) {\n        this._s0 = state[0];\n        this._s1 = state[1];\n        this._s2 = state[2];\n        this._c = state[3];\n        return this;\n    }\n    clone() {\n        let clone = new RNG();\n        return clone.setState(this.getState());\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (new RNG().setSeed(Date.now()));\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/action.js":
/*!*******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/action.js ***!
  \*******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Action; });\n/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scheduler.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/scheduler.js\");\n\nclass Action extends _scheduler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this._defaultDuration = 1;\n        this._duration = this._defaultDuration;\n    }\n    add(item, repeat, time) {\n        this._queue.add(item, time || this._defaultDuration);\n        return super.add(item, repeat);\n    }\n    clear() {\n        this._duration = this._defaultDuration;\n        return super.clear();\n    }\n    remove(item) {\n        if (item == this._current) {\n            this._duration = this._defaultDuration;\n        }\n        return super.remove(item);\n    }\n    next() {\n        if (this._current && this._repeat.indexOf(this._current) != -1) {\n            this._queue.add(this._current, this._duration || this._defaultDuration);\n            this._duration = this._defaultDuration;\n        }\n        return super.next();\n    }\n    setDuration(time) {\n        if (this._current) {\n            this._duration = time;\n        }\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/action.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/index.js":
/*!******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/index.js ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _simple_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simple.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/simple.js\");\n/* harmony import */ var _speed_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speed.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/speed.js\");\n/* harmony import */ var _action_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/action.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ Simple: _simple_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], Speed: _speed_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], Action: _action_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] });\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/index.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/scheduler.js":
/*!**********************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/scheduler.js ***!
  \**********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Scheduler; });\n/* harmony import */ var _eventqueue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventqueue.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/eventqueue.js\");\n\nclass Scheduler {\n    constructor() {\n        this._queue = new _eventqueue_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        this._repeat = [];\n        this._current = null;\n    }\n    getTime() { return this._queue.getTime(); }\n    add(item, repeat) {\n        if (repeat) {\n            this._repeat.push(item);\n        }\n        return this;\n    }\n    getTimeOf(item) {\n        return this._queue.getEventTime(item);\n    }\n    clear() {\n        this._queue.clear();\n        this._repeat = [];\n        this._current = null;\n        return this;\n    }\n    remove(item) {\n        let result = this._queue.remove(item);\n        let index = this._repeat.indexOf(item);\n        if (index != -1) {\n            this._repeat.splice(index, 1);\n        }\n        if (this._current == item) {\n            this._current = null;\n        }\n        return result;\n    }\n    next() {\n        this._current = this._queue.get();\n        return this._current;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/scheduler.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/simple.js":
/*!*******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/simple.js ***!
  \*******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Simple; });\n/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scheduler.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/scheduler.js\");\n\nclass Simple extends _scheduler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    add(item, repeat) {\n        this._queue.add(item, 0);\n        return super.add(item, repeat);\n    }\n    next() {\n        if (this._current && this._repeat.indexOf(this._current) != -1) {\n            this._queue.add(this._current, 0);\n        }\n        return super.next();\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/simple.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/speed.js":
/*!******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/speed.js ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Speed; });\n/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scheduler.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/scheduler.js\");\n\nclass Speed extends _scheduler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    add(item, repeat, time) {\n        this._queue.add(item, time !== undefined ? time : 1 / item.getSpeed());\n        return super.add(item, repeat);\n    }\n    next() {\n        if (this._current && this._repeat.indexOf(this._current) != -1) {\n            this._queue.add(this._current, 1 / this._current.getSpeed());\n        }\n        return super.next();\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/scheduler/speed.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/stringgenerator.js":
/*!******************************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/stringgenerator.js ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StringGenerator; });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/rng.js\");\n\nclass StringGenerator {\n    constructor(options) {\n        this._options = {\n            words: false,\n            order: 3,\n            prior: 0.001\n        };\n        Object.assign(this._options, options);\n        this._boundary = String.fromCharCode(0);\n        this._suffix = this._boundary;\n        this._prefix = [];\n        for (let i = 0; i < this._options.order; i++) {\n            this._prefix.push(this._boundary);\n        }\n        this._priorValues = {};\n        this._priorValues[this._boundary] = this._options.prior;\n        this._data = {};\n    }\n    clear() {\n        this._data = {};\n        this._priorValues = {};\n    }\n    generate() {\n        let result = [this._sample(this._prefix)];\n        while (result[result.length - 1] != this._boundary) {\n            result.push(this._sample(result));\n        }\n        return this._join(result.slice(0, -1));\n    }\n    observe(string) {\n        let tokens = this._split(string);\n        for (let i = 0; i < tokens.length; i++) {\n            this._priorValues[tokens[i]] = this._options.prior;\n        }\n        tokens = this._prefix.concat(tokens).concat(this._suffix);\n        for (let i = this._options.order; i < tokens.length; i++) {\n            let context = tokens.slice(i - this._options.order, i);\n            let event = tokens[i];\n            for (let j = 0; j < context.length; j++) {\n                let subcontext = context.slice(j);\n                this._observeEvent(subcontext, event);\n            }\n        }\n    }\n    getStats() {\n        let parts = [];\n        let priorCount = Object.keys(this._priorValues).length;\n        priorCount--;\n        parts.push(\"distinct samples: \" + priorCount);\n        let dataCount = Object.keys(this._data).length;\n        let eventCount = 0;\n        for (let p in this._data) {\n            eventCount += Object.keys(this._data[p]).length;\n        }\n        parts.push(\"dictionary size (contexts): \" + dataCount);\n        parts.push(\"dictionary size (events): \" + eventCount);\n        return parts.join(\", \");\n    }\n    _split(str) {\n        return str.split(this._options.words ? /\\s+/ : \"\");\n    }\n    _join(arr) {\n        return arr.join(this._options.words ? \" \" : \"\");\n    }\n    _observeEvent(context, event) {\n        let key = this._join(context);\n        if (!(key in this._data)) {\n            this._data[key] = {};\n        }\n        let data = this._data[key];\n        if (!(event in data)) {\n            data[event] = 0;\n        }\n        data[event]++;\n    }\n    _sample(context) {\n        context = this._backoff(context);\n        let key = this._join(context);\n        let data = this._data[key];\n        let available = {};\n        if (this._options.prior) {\n            for (let event in this._priorValues) {\n                available[event] = this._priorValues[event];\n            }\n            for (let event in data) {\n                available[event] += data[event];\n            }\n        }\n        else {\n            available = data;\n        }\n        return _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getWeightedValue(available);\n    }\n    _backoff(context) {\n        if (context.length > this._options.order) {\n            context = context.slice(-this._options.order);\n        }\n        else if (context.length < this._options.order) {\n            context = this._prefix.slice(0, this._options.order - context.length).concat(context);\n        }\n        while (!(this._join(context) in this._data) && context.length > 0) {\n            context = context.slice(1);\n        }\n        return context;\n    }\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/stringgenerator.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/text.js":
/*!*******************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/text.js ***!
  \*******************************************************************************************************************************************/
/*! exports provided: TYPE_TEXT, TYPE_NEWLINE, TYPE_FG, TYPE_BG, measure, tokenize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPE_TEXT\", function() { return TYPE_TEXT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPE_NEWLINE\", function() { return TYPE_NEWLINE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPE_FG\", function() { return TYPE_FG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPE_BG\", function() { return TYPE_BG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"measure\", function() { return measure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tokenize\", function() { return tokenize; });\nconst RE_COLORS = /%([bc]){([^}]*)}/g;\nconst TYPE_TEXT = 0;\nconst TYPE_NEWLINE = 1;\nconst TYPE_FG = 2;\nconst TYPE_BG = 3;\nfunction measure(str, maxWidth) {\n    let result = { width: 0, height: 1 };\n    let tokens = tokenize(str, maxWidth);\n    let lineWidth = 0;\n    for (let i = 0; i < tokens.length; i++) {\n        let token = tokens[i];\n        switch (token.type) {\n            case TYPE_TEXT:\n                lineWidth += token.value.length;\n                break;\n            case TYPE_NEWLINE:\n                result.height++;\n                result.width = Math.max(result.width, lineWidth);\n                lineWidth = 0;\n                break;\n        }\n    }\n    result.width = Math.max(result.width, lineWidth);\n    return result;\n}\nfunction tokenize(str, maxWidth) {\n    let result = [];\n    let offset = 0;\n    str.replace(RE_COLORS, function (match, type, name, index) {\n        let part = str.substring(offset, index);\n        if (part.length) {\n            result.push({\n                type: TYPE_TEXT,\n                value: part\n            });\n        }\n        result.push({\n            type: (type == \"c\" ? TYPE_FG : TYPE_BG),\n            value: name.trim()\n        });\n        offset = index + match.length;\n        return \"\";\n    });\n    let part = str.substring(offset);\n    if (part.length) {\n        result.push({\n            type: TYPE_TEXT,\n            value: part\n        });\n    }\n    return breakLines(result, maxWidth);\n}\nfunction breakLines(tokens, maxWidth) {\n    if (!maxWidth) {\n        maxWidth = Infinity;\n    }\n    let i = 0;\n    let lineLength = 0;\n    let lastTokenWithSpace = -1;\n    while (i < tokens.length) {\n        let token = tokens[i];\n        if (token.type == TYPE_NEWLINE) {\n            lineLength = 0;\n            lastTokenWithSpace = -1;\n        }\n        if (token.type != TYPE_TEXT) {\n            i++;\n            continue;\n        }\n        while (lineLength == 0 && token.value.charAt(0) == \" \") {\n            token.value = token.value.substring(1);\n        }\n        let index = token.value.indexOf(\"\\n\");\n        if (index != -1) {\n            token.value = breakInsideToken(tokens, i, index, true);\n            let arr = token.value.split(\"\");\n            while (arr.length && arr[arr.length - 1] == \" \") {\n                arr.pop();\n            }\n            token.value = arr.join(\"\");\n        }\n        if (!token.value.length) {\n            tokens.splice(i, 1);\n            continue;\n        }\n        if (lineLength + token.value.length > maxWidth) {\n            let index = -1;\n            while (1) {\n                let nextIndex = token.value.indexOf(\" \", index + 1);\n                if (nextIndex == -1) {\n                    break;\n                }\n                if (lineLength + nextIndex > maxWidth) {\n                    break;\n                }\n                index = nextIndex;\n            }\n            if (index != -1) {\n                token.value = breakInsideToken(tokens, i, index, true);\n            }\n            else if (lastTokenWithSpace != -1) {\n                let token = tokens[lastTokenWithSpace];\n                let breakIndex = token.value.lastIndexOf(\" \");\n                token.value = breakInsideToken(tokens, lastTokenWithSpace, breakIndex, true);\n                i = lastTokenWithSpace;\n            }\n            else {\n                token.value = breakInsideToken(tokens, i, maxWidth - lineLength, false);\n            }\n        }\n        else {\n            lineLength += token.value.length;\n            if (token.value.indexOf(\" \") != -1) {\n                lastTokenWithSpace = i;\n            }\n        }\n        i++;\n    }\n    tokens.push({ type: TYPE_NEWLINE });\n    let lastTextToken = null;\n    for (let i = 0; i < tokens.length; i++) {\n        let token = tokens[i];\n        switch (token.type) {\n            case TYPE_TEXT:\n                lastTextToken = token;\n                break;\n            case TYPE_NEWLINE:\n                if (lastTextToken) {\n                    let arr = lastTextToken.value.split(\"\");\n                    while (arr.length && arr[arr.length - 1] == \" \") {\n                        arr.pop();\n                    }\n                    lastTextToken.value = arr.join(\"\");\n                }\n                lastTextToken = null;\n                break;\n        }\n    }\n    tokens.pop();\n    return tokens;\n}\nfunction breakInsideToken(tokens, tokenIndex, breakIndex, removeBreakChar) {\n    let newBreakToken = {\n        type: TYPE_NEWLINE\n    };\n    let newTextToken = {\n        type: TYPE_TEXT,\n        value: tokens[tokenIndex].value.substring(breakIndex + (removeBreakChar ? 1 : 0))\n    };\n    tokens.splice(tokenIndex + 1, 0, newBreakToken, newTextToken);\n    return tokens[tokenIndex].value.substring(0, breakIndex);\n}\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/text.js?");

/***/ }),

/***/ "../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js":
/*!*******************************************************************************************************************************************!*\
  !*** /rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js ***!
  \*******************************************************************************************************************************************/
/*! exports provided: mod, clamp, capitalize, format */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mod\", function() { return mod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clamp\", function() { return clamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"capitalize\", function() { return capitalize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"format\", function() { return format; });\nfunction mod(x, n) {\n    return (x % n + n) % n;\n}\nfunction clamp(val, min = 0, max = 1) {\n    if (val < min)\n        return min;\n    if (val > max)\n        return max;\n    return val;\n}\nfunction capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.substring(1);\n}\nfunction format(template, ...args) {\n    let map = format.map;\n    let replacer = function (match, group1, group2, index) {\n        if (template.charAt(index - 1) == \"%\") {\n            return match.substring(1);\n        }\n        if (!args.length) {\n            return match;\n        }\n        let obj = args[0];\n        let group = group1 || group2;\n        let parts = group.split(\",\");\n        let name = parts.shift() || \"\";\n        let method = map[name.toLowerCase()];\n        if (!method) {\n            return match;\n        }\n        obj = args.shift();\n        let replaced = obj[method].apply(obj, parts);\n        let first = name.charAt(0);\n        if (first != first.toLowerCase()) {\n            replaced = capitalize(replaced);\n        }\n        return replaced;\n    };\n    return template.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi, replacer);\n}\nformat.map = {\n    \"s\": \"toString\"\n};\n\n\n//# sourceURL=webpack:////rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/util.js?");

/***/ }),

/***/ "./src/Display.js":
/*!************************!*\
  !*** ./src/Display.js ***!
  \************************/
/*! exports provided: Display */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Display\", function() { return Display; });\n/* harmony import */ var rot_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rot-js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/index.js\");\n\n\n// welp, it happened. I am rewriting the rotjs display class to get more speed.\n/*\nvar o = {\n  layout: \"tile\",\n  bg: \"black\",\n  tileWidth: 10,\n  tileHeight: 16,\n  tileColorize: true,\n\twidth: 120,\n\theight: 40,\n  fontSize: 18,\n  tileSet: tileSet,\n  tileMap: tilemap\n}\n*/\n// going to keep using rotjs for the color stuff\nclass Display\n{\n  constructor(options)\n  {\n    this.randState = 13;\n    this.options = options;\n    this.canvas = document.createElement('canvas');\n    \n    // set the canvas size and cache these values\n    // it seems like reading them back from the element is slower\n    this.cw = this.canvas.width = this.options.tileWidth * this.options.width;\n    this.ch = this.canvas.height = this.options.tileHeight * this.options.height;\n    \n    this.context = this.canvas.getContext(\"2d\");\n    \n    this.context.fillStyle = \"black\";\n    this.context.fillRect(0,0,this.cw,this.ch);\n\n    // set up the buffer we are going to draw to\n    this.drawBufferImage = this.context.getImageData(0, 0, this.cw, this.ch);\n    var canvasbuf = new ArrayBuffer(this.drawBufferImage.data.length);\n    this.canvasbuf8 = new Uint8ClampedArray(canvasbuf);\n    this.canvasdata = new Uint32Array(canvasbuf);\n    \n    // start the tilesetLoad\n    this.tileSetLoaded = false;\n    this.tileSetImg = document.createElement(\"img\");\n    let d = this;\n    this.tileSetImg.onload  = ()=>{d.spriteLoadComplete()};\n    this.tileSetImg.crossOrigin = \"Anonymous\";\n    this.tileSetImg.src = this.options.tileSet;\n    this.dirty = false;\n    // kick off the draw loop\n    this.drawInternal();\n  }\n  getImageData(img)\n  {\n    var tmpCanvas = document.createElement('canvas');\n    var tmpContext = tmpCanvas.getContext('2d');\n    this.tilesheetWidth = img.width;\n    this.tilesheetHeight = img.height;\n    tmpCanvas.width = img.width;\n    tmpCanvas.height = img.height;\n    tmpContext.drawImage(img, 0, 0);\n    var myData = tmpContext.getImageData(0, 0, img.width, img.height);\n    return myData;\n  }\n  spriteLoadComplete()\n  {\n\n    // load the image data from the tiles\n    this.tileogData = this.getImageData(this.tileSetImg).data;\n    var tilebuf = new ArrayBuffer(this.tileogData.length);\n    var tilebuf8 = new Uint8ClampedArray(tilebuf);\n    this.tiledata = new Uint32Array(tilebuf);\n    tilebuf8.set(this.tileogData);\n\n    this.tileSetLoaded = true;\n    // now that we have completed the load, redraw everything that was requested before the image was loaded\n    if(this.preloadDraws !== undefined)\n    {\n      for(let i=0;i<this.preloadDraws.length;i++)\n      {\n        let e = this.preloadDraws[i];\n        this.draw(e[0], e[1], e[2], e[3], e[4]);\n      }\n      this.preloadDraws = [];\n    }\n    \n  }\n  getContainer()\n  {\n    return this.canvas;\n  }\n  drawText(x, y, text, maxWidth) {\n      let fg = null;\n      let bg = null;\n      let cx = x;\n      let cy = y;\n      let lines = 1;\n      if (!maxWidth) {\n          maxWidth = this.options.width - x;\n      }\n      let tokens = rot_js__WEBPACK_IMPORTED_MODULE_0__[\"Text\"].tokenize(text, maxWidth);\n      while (tokens.length) {\n          let token = tokens.shift();\n          switch (token.type) {\n              case rot_js__WEBPACK_IMPORTED_MODULE_0__[\"Text\"].TYPE_TEXT:\n                  let isSpace = false, isPrevSpace = false, isFullWidth = false, isPrevFullWidth = false;\n                  for (let i = 0; i < token.value.length; i++) {\n                      let cc = token.value.charCodeAt(i);\n                      let c = token.value.charAt(i);\n                      isFullWidth = (cc > 0xff00 && cc < 0xff61) || (cc > 0xffdc && cc < 0xffe8) || cc > 0xffee;\n                      isSpace = (c.charCodeAt(0) == 0x20 || c.charCodeAt(0) == 0x3000);\n                      if (isPrevFullWidth && !isFullWidth && !isSpace) {\n                          cx++;\n                      }\n                      if (isFullWidth && !isPrevSpace) {\n                          cx++;\n                      }\n                      this.draw(cx++, cy, c, fg, bg);\n                      isPrevSpace = isSpace;\n                      isPrevFullWidth = isFullWidth;\n                  }\n                  break;\n              case rot_js__WEBPACK_IMPORTED_MODULE_0__[\"Text\"].TYPE_FG:\n                  fg = token.value || null;\n                  break;\n              case rot_js__WEBPACK_IMPORTED_MODULE_0__[\"Text\"].TYPE_BG:\n                  bg = token.value || null;\n                  break;\n              case rot_js__WEBPACK_IMPORTED_MODULE_0__[\"Text\"].TYPE_NEWLINE:\n                  cx = x;\n                  cy++;\n                  lines++;\n                  break;\n          }\n      }\n      return lines;\n  }\n  rand()\n  {\n    /* Algorithm \"xor\" from p. 4 of Marsaglia, \"Xorshift RNGs\" */\n    var x = this.randState;\n    x ^= x << 13;\n    x ^= x >> 17;\n    x ^= x << 5;\n    this.randState = x;\n    return x;\n  }\n\n  eventToPosition(e)\n  {\n    let x, y;\n    if (\"touches\" in e) {\n        x = e.touches[0].clientX;\n        y = e.touches[0].clientY;\n    }\n    else {\n        x = e.clientX;\n        y = e.clientY;\n    }\n    let canvas = this.context.canvas;\n    let rect = canvas.getBoundingClientRect();\n    x -= rect.left;\n    y -= rect.top;\n    x *= canvas.width / rect.width;\n    y *= canvas.height / rect.height;\n    if (x < 0 || y < 0 || x >= canvas.width || y >= canvas.height) {\n        return [-1, -1];\n    }\n    return [Math.floor(x / this.options.tileWidth), Math.floor(y / this.options.tileHeight)];\n  }\n  draw(x,y,char,fg,bg)\n  {\n    if(!this.tileSetLoaded)\n    {\n      if(this.preloadDraws == undefined)\n      {\n        this.preloadDraws = [];\n      }\n      this.preloadDraws.push([x,y,char,fg,bg]);\n      return;\n    }\n    if(x < 0 || x >= this.options.width || y < 0 || y >= this.options.height)\n      return;\n    //should do some clamping to make sure we aren't drawing out of bounds stuff\n    let tile = this.options.tileMap[char];\n    if(tile != undefined)\n    {\n      /*\n      fg = this.rand()|(0xff<<24);\n      bg = this.rand()|(0xff<<24);\n      */\n      fg = Display.convertColor(fg);\n      if(bg == undefined)\n      {\n        bg = 0x00;\n      }\n      bg = Display.convertColor(bg);\n      this.drawTile(tile[0], tile[1], x*this.options.tileWidth, y*this.options.tileHeight, fg, bg);\n    }\n  }\n  \n  drawTile(sx, sy, dx, dy, fg, bg)\n  {\n    // not sure if storing these locals helps or not, but just in case\n    let cw = this.cw;\n    let tsw = this.tilesheetWidth;\n    for(let x=0, lenX = this.options.tileWidth;x<lenX;x++)\n    {\n      // pre calc these values so we don't need to do them on\n      // the inner loop\n      let ddx = (dx+x);\n      let dsx = (sx+x);\n      for(let y=0, lenY = this.options.tileHeight;y<lenY;y++)\n      {\n        // only perform this lookup once\n        let tdata = this.tiledata[(dsx+(sy+y)*tsw)];\n        this.canvasdata[(ddx+(dy+y)*cw)] = 0xff<<24 | tdata&fg | ~tdata&bg;\n      }\n    }\n    this.dirty = true;\n  }\n  drawInternal()\n  {\n    let d = this;\n    // early out if we aren't ready to draw yet\n    if(!this.tileSetLoaded || !this.dirty)\n    {\n      requestAnimationFrame(()=>{d.drawInternal()});\n      return;\n    }\n    this.dirty = false;\n    this.drawBufferImage.data.set(this.canvasbuf8);\n    this.context.putImageData(this.drawBufferImage, 0, 0);\n    requestAnimationFrame(()=>{d.drawInternal()});\n  }\n}\n\nDisplay.convertColor = function(c)\n{\n  if(typeof(c) == \"string\")\n  {\n    c = rot_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"].fromString(c);\n  }\n  if(typeof(c) == \"object\")\n  {\n    // convert to our good representation\n    c = (c[0]&0xff)\n    | (c[1]&0xff)<<8\n    | (c[2]&0xff)<<16\n    | 0xff < 24;\n  }\n  return c;\n}\n\n//# sourceURL=webpack:///./src/Display.js?");

/***/ }),

/***/ "./src/DrawUtilities.js":
/*!******************************!*\
  !*** ./src/DrawUtilities.js ***!
  \******************************/
/*! exports provided: drawSquare, getSquareCells, calculateLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawSquare\", function() { return drawSquare; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSquareCells\", function() { return getSquareCells; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateLine\", function() { return calculateLine; });\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Display */ \"./src/Display.js\");\n\nlet d = ()=>{\n  return _Display__WEBPACK_IMPORTED_MODULE_0__[\"Display\"].display;\n}\n// draws a ui outline square\nfunction drawSquare(x,y,width,height)\n{\n  let dirtyCells = [];\n  for(let _x=x+1;_x<width+x;_x++)\n  {\n    dirtyCells.push([_x,y]);\n    dirtyCells.push([_x,y+height]);\n    d().draw(_x,y,\"─\",\"white\",\"black\");\n    d().draw(_x,y+height,\"─\",\"white\",\"black\");\n  }\n  \n  for(let _y=y+1;_y<height+y;_y++)\n  {\n    dirtyCells.push([x,_y]);\n    dirtyCells.push([x+width,_y]);\n    d().draw(x,_y,\"│\",\"white\",\"black\");\n    d().draw(x+width,_y,\"│\",\"white\",\"black\");\n  }\n  dirtyCells.push([x,y]);\n  dirtyCells.push([x,y+height]);\n  dirtyCells.push([x+width,y]);\n  dirtyCells.push([x+width,y+height]);\n  d().draw(x,y,\"┌\",\"white\",\"black\");\n  d().draw(x,y+height,\"└\",\"white\",\"black\");\n  d().draw(x+width,y,\"┐\",\"white\",\"black\");\n  d().draw(x+width,y+height,\"┘\",\"white\",\"black\");\n  return dirtyCells;\n}\n\nfunction getSquareCells(x,y,width,height,outline)\n{\n  let dirtyCells = [];\n  if(!outline)\n  {\n    for(let _x=x;_x<x+width;_x++)\n    {    \n      for(let _y=y;_y<y+height;_y++)\n      {\n        dirtyCells.push([_x,_y]);\n      }\n    }\n  }\n  else\n  {\n    for(let _x=x+1;_x<width+x;_x++)\n    {\n      dirtyCells.push([_x,y]);\n      dirtyCells.push([_x,y+height]);\n    }\n\n    for(let _y=y+1;_y<height+y;_y++)\n    {\n      dirtyCells.push([x,_y]);\n      dirtyCells.push([x+width,_y]);\n    }\n    dirtyCells.push([x,y]);\n    dirtyCells.push([x,y+height]);\n    dirtyCells.push([x+width,y]);\n    dirtyCells.push([x+width,y+height]);\n  }\n  return dirtyCells;\n}\n\n// from here: https://stackoverflow.com/questions/4672279/bresenham-algorithm-in-javascript\nfunction calculateLine (x1,y1, x2,y2) {\n  var coordinatesArray = new Array();\n  // Define differences and error check\n  var dx = Math.abs(x2 - x1);\n  var dy = Math.abs(y2 - y1);\n  var sx = (x1 < x2) ? 1 : -1;\n  var sy = (y1 < y2) ? 1 : -1;\n  var err = dx - dy;\n  // Set first coordinates\n  coordinatesArray.push([x1, y1]);\n  // Main loop\n  while (!((x1 == x2) && (y1 == y2))) {\n    var e2 = err << 1;\n    if (e2 > -dy) {\n      err -= dy;\n      x1 += sx;\n    }\n    if (e2 < dx) {\n      err += dx;\n      y1 += sy;\n    }\n    // Set coordinates\n    coordinatesArray.push([x1, y1]);\n  }\n  // Return the result\n  return coordinatesArray;\n}\n\n//# sourceURL=webpack:///./src/DrawUtilities.js?");

/***/ }),

/***/ "./src/Drawing.js":
/*!************************!*\
  !*** ./src/Drawing.js ***!
  \************************/
/*! exports provided: Drawing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Drawing\", function() { return Drawing; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Display */ \"./src/Display.js\");\n/* harmony import */ var _components_CharButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/CharButton */ \"./src/components/CharButton.js\");\n/* harmony import */ var _components_ColorButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/ColorButton */ \"./src/components/ColorButton.js\");\n\n\n\n\n\nfunction drawCell(cellData)\n{\n  let v = cellData;\n  _Display__WEBPACK_IMPORTED_MODULE_1__[\"Display\"].display.draw(v.x+16, v.y, v.char, v.fgColor, v.bgColor);\n}\n\nclass Drawing\n{\n  constructor(width, height)\n  {\n    this.layers = [[]];\n    this.currentLayer = 0;\n    this.currentBG = 0x000000;\n    this.currentFG = 0xFFFFFF;\n    this.currentChar = \"-\";\n    this.width = width;\n    this.height = height;\n    this.clear();\n  }\n  // TODO: implement this\n  clear()\n  {\n    let char = this.currentChar;\n    let bg = this.currentBG;\n    let fg = this.currentFG;\n    this.currentBG = 0xFF000000;\n    this.currentFG = 0xFFFFFFFF;\n    this.currentChar = \" \";\n\n    for(let x=0;x<this.width;x++)\n    {\n      for(let y=0;y<this.height;y++)\n      {\n        this.drawWithCurrentSettings(x,y);\n      }\n    }\n    this.currentChar = char;\n    this.currentBG = bg;\n    this.currentFG = fg;\n\n  }\n  get(x,y,layer)\n  {\n    if(layer == undefined)\n    {\n      layer = this.currentLayer;\n    }\n    //console.log(x+y*this.width);\n    let res = this.layers[layer][x+y*this.width];\n    //console.log(x,y, res);\n    if(this.layers[layer] == undefined || x+y*this.width == NaN || res == undefined)\n    {\n      return {\"char\": \" \", \"fgColor\":0xFFFFFFFF, \"bgColor\":0xFF00000};\n    }\n    return res;\n  }\n  set(x,y,val,layer)\n  {\n    if(layer == undefined)\n    {\n      layer = this.currentLayer;\n    }\n    let cData = {\n      \"char\":val.char,\n      \"x\":x,\n      \"y\":y,\n      \"fgColor\":_Display__WEBPACK_IMPORTED_MODULE_1__[\"Display\"].convertColor(val.fgColor),\n      \"bgColor\":_Display__WEBPACK_IMPORTED_MODULE_1__[\"Display\"].convertColor(val.bgColor)\n    };\n    this.layers[layer][x+y*this.width] = cData;\n    this.redrawCell(x,y);\n  }\n  setData(data)\n  {\n    if(data.version == undefined)\n    {\n      return;\n    }\n    this.layers = data.layers;\n  }\n  redrawCell(x,y)\n  {\n    let val = this.get(x,y);\n    if(val != undefined)\n    {\n       drawCell(val);\n    }\n    else\n    {\n      drawCell({\"x\":x,\"y\":y,\"char\": \" \", \"fgColor\":0xFFFFFFFF, \"bgColor\":0xFF00000});\n    }\n  }\n  redrawAll()\n  {\n    for(let x=0;x<80-16;x++)\n    {\n      for(let y=0;y<40;y++)\n      {\n        this.redrawCell(x,y);\n      }\n    }\n  }\n  drawWithCurrentSettings(x,y)\n  {\n    this.draw(x,y,this.currentChar,this.currentFG,this.currentBG);\n  }\n  drawTempWithCurrentSettings(x,y)\n  {\n    drawCell({\"x\":x,\"y\":y,\"char\": this.currentChar, \"fgColor\":this.currentFG, \"bgColor\":this.currentBG});\n  }\n  drawCellTemp(val)\n  {\n    drawCell(val);\n  }\n  draw(x,y,char,fg,bg)\n  {\n    let cData = {\n      \"char\":char,\n      \"x\":x,\n      \"y\":y,\n      \"fgColor\":_Display__WEBPACK_IMPORTED_MODULE_1__[\"Display\"].convertColor(fg),\n      \"bgColor\":_Display__WEBPACK_IMPORTED_MODULE_1__[\"Display\"].convertColor(bg)\n    };\n    this.set(x,y,cData);\n  }\n  eyeDrop(x,y)\n  {\n    let v = this.get(x,y);\n    this.currentChar = v.char;\n    this.currentFG = v.fgColor;\n    this.currentBG = v.bgColor;\n    _components_CharButton__WEBPACK_IMPORTED_MODULE_2__[\"CharButton\"].updateAll();\n    _components_ColorButton__WEBPACK_IMPORTED_MODULE_3__[\"ColorButton\"].updateAll();\n  }\n  deserialize(jsonString)\n  {\n    \n    let data = JSON.parse(jsonString);\n    this.setData(data);\n  }\n  serialize()\n  {\n    return JSON.stringify({layers:this.layers, version:2});\n  }\n}\nDrawing.currentDrawing = null;\n\n//# sourceURL=webpack:///./src/Drawing.js?");

/***/ }),

/***/ "./src/UIElements.js":
/*!***************************!*\
  !*** ./src/UIElements.js ***!
  \***************************/
/*! exports provided: UIBase, TextButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIBase\", function() { return UIBase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextButton\", function() { return TextButton; });\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Display */ \"./src/Display.js\");\n\n\nlet uid = 0;\nclass UIBase\n{\n  constructor(x, y, width, height)\n  {\n    this.uid = uid++;\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n    this.children = [];\n    this.dirty = true;\n  }\n  addChild(child)\n  {\n    this.children.push(child);\n  }\n  removeChild(child)\n  {\n    this.children.splice(this.children.indexOf(child), 1);\n  }\n  pointerOver()\n  {\n  }\n  pointerOut()\n  {\n  }\n  press()\n  {\n  }\n  release()\n  {\n  }\n  keypress(keyCode)\n  {\n  }\n  setDirty()\n  {\n    this.dirty = true;\n  }\n  renderLoop()\n  {\n    this.children.forEach(function(c){\n      c.renderLoop();\n    });\n    if(this.dirty)\n      this.render();\n    this.dirty = false;\n  }\n  render(){}\n  // not going to support bubbling right now\n  // this function tries to find the lowest possible child\n  // which will consume its events, then passes it to the\n  // next object up the chain if it can't\n  processMove(x, y)\n  {\n    this.processInternal(x,y,(x,y,e)=>{\n      if(UIBase.lastOver != null\n         && UIBase.lastOver != e\n         && UIBase.lastOver.pointerOut)\n      {\n        UIBase.lastOver.pointerOut();\n      }\n      if(UIBase.hoverCallback != undefined)\n      {\n        UIBase.hoverCallback(e);\n      }\n      e.pointerOver(x,y);\n      UIBase.lastOver = e;\n    })\n  }\n\n  processPress(x, y, buttonId)\n  {\n    this.processInternal(x,y,(x,y,e)=>{\n      e.press(buttonId, x,y);\n    });\n  }\n  processRelease(x,y,buttonId)\n  {\n    this.processInternal(x,y,(x,y,e)=>{\n      e.release(buttonId, x,y);\n    });\n  }\n  processInternal(x,y,callback)\n  {\n    // check to see if any children consume the event\n    // do this in reverse so it process most recently added children first\n    for(let i=this.children.length-1;i>=0;i--)\n    {\n      let c = this.children[i];\n      if(c.processInternal(x,y,callback))\n        return true;\n    }\n    if(this.pointOver(x,y))\n    {\n      callback(x,y, this);\n      return true;\n    }\n    return false;\n  }\n  // key presses just get sent out to everyone\n  processKeyPress(keyCode,e)\n  {\n    for(let i=this.children.length-1;i>=0;i--)\n    {\n      let c = this.children[i];\n      c.processKeyPress(keyCode,e);\n    }\n    this.keypress(keyCode, e);\n  }\n  pointOver(x,y)\n  {\n    let res = x >= this.x\n      && x < this.x + this.width\n      & y >= this.y\n      && y < this.y + this.height;\n\n    return res;\n  }\n}\n\nclass TextButton extends UIBase\n{\n  constructor(x,y,text)\n  {\n    super(x,y,text.length,1);\n    this.text = text;\n    this.textColor = \"white\";\n  }\n  render()\n  {\n    _Display__WEBPACK_IMPORTED_MODULE_0__[\"Display\"].display.drawText(this.x,this.y,\"%c{\"+this.textColor+\"}\"+this.text);\n  }\n}\n\n\nUIBase.lastOver = null;UIBase.display = null;\n\n//# sourceURL=webpack:///./src/UIElements.js?");

/***/ }),

/***/ "./src/baseColors.json":
/*!*****************************!*\
  !*** ./src/baseColors.json ***!
  \*****************************/
/*! exports provided: colors, default */
/***/ (function(module) {

eval("module.exports = {\"colors\":[[64,0,0],[102,0,0],[140,0,0],[178,0,0],[217,0,0],[255,0,0],[255,51,51],[255,102,102],[0,32,64],[0,51,102],[0,70,140],[0,89,178],[0,108,217],[0,128,255],[51,153,255],[102,178,255],[64,16,0],[102,26,0],[140,35,0],[178,45,0],[217,54,0],[255,64,0],[255,102,51],[255,140,102],[0,0,64],[0,0,102],[0,0,140],[0,0,178],[0,0,217],[0,0,255],[51,51,255],[102,102,255],[64,32,0],[102,51,0],[140,70,0],[178,89,0],[217,108,0],[255,128,0],[255,153,51],[255,178,102],[16,0,64],[26,0,102],[35,0,140],[45,0,178],[54,0,217],[64,0,255],[102,51,255],[140,102,255],[64,48,0],[102,77,0],[140,105,0],[178,134,0],[217,163,0],[255,191,0],[255,204,51],[255,217,102],[32,0,64],[51,0,102],[70,0,140],[89,0,178],[108,0,217],[128,0,255],[153,51,255],[178,102,255],[64,64,0],[102,102,0],[140,140,0],[178,178,0],[217,217,0],[255,255,0],[255,255,51],[255,255,102],[48,0,64],[77,0,102],[105,0,140],[134,0,178],[163,0,217],[191,0,255],[204,51,255],[217,102,255],[48,64,0],[77,102,0],[105,140,0],[134,178,0],[163,217,0],[191,255,0],[204,255,51],[217,255,102],[64,0,64],[102,0,102],[140,0,140],[178,0,178],[217,0,217],[255,0,255],[255,51,255],[255,102,255],[32,64,0],[51,102,0],[70,140,0],[89,178,0],[108,217,0],[128,255,0],[153,255,51],[178,255,102],[64,0,48],[102,0,77],[140,0,105],[178,0,134],[217,0,163],[255,0,191],[255,51,204],[255,102,217],[0,64,0],[0,102,0],[0,140,0],[0,178,0],[0,217,0],[0,255,0],[51,255,51],[102,255,102],[64,0,32],[102,0,51],[140,0,70],[178,0,89],[217,0,108],[255,0,128],[255,51,153],[255,102,178],[0,64,32],[0,102,51],[0,140,70],[0,178,89],[0,217,108],[0,255,128],[51,255,153],[102,255,178],[64,0,16],[102,0,26],[140,0,35],[178,0,45],[217,0,54],[255,0,64],[255,51,102],[255,102,140],[0,64,48],[0,102,77],[0,140,105],[0,178,134],[0,217,163],[0,255,191],[51,255,204],[102,255,217],[26,26,26],[51,51,51],[77,77,77],[102,102,102],[128,128,128],[158,158,158],[191,191,191],[222,222,222],[0,64,64],[0,102,102],[0,140,140],[0,178,178],[0,217,217],[0,255,255],[51,255,255],[102,255,255],[26,20,13],[51,41,26],[77,61,38],[102,82,51],[128,102,64],[158,134,100],[191,171,143],[222,211,195],[0,48,64],[0,77,102],[0,105,140],[0,134,178],[0,163,217],[0,191,255],[51,204,255],[102,217,255],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[255,255,255],[255,255,255],[255,255,255],[255,255,255]]};\n\n//# sourceURL=webpack:///./src/baseColors.json?");

/***/ }),

/***/ "./src/codePage437.json":
/*!******************************!*\
  !*** ./src/codePage437.json ***!
  \******************************/
/*! exports provided: description, characters, default */
/***/ (function(module) {

eval("module.exports = {\"description\":\"Code Page 437 Unicode representation\",\"characters\":[\"\\u0000\",\"☺\",\"☻\",\"♥\",\"♦\",\"♣\",\"♠\",\"•\",\"◘\",\"○\",\"◙\",\"♂\",\"♀\",\"♪\",\"♫\",\"☼\",\"►\",\"◄\",\"↕\",\"‼\",\"¶\",\"§\",\"▬\",\"↨\",\"↑\",\"↓\",\"→\",\"←\",\"∟\",\"↔\",\"▲\",\"▼\",\" \",\"!\",\"\\\"\",\"#\",\"$\",\"%\",\"&\",\"'\",\"(\",\")\",\"*\",\"+\",\",\",\"-\",\".\",\"/\",\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\":\",\";\",\"<\",\"=\",\">\",\"?\",\"@\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"[\",\"\\\\\",\"]\",\"^\",\"_\",\"`\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"{\",\"|\",\"}\",\"~\",\"⌂\",\"Ç\",\"ü\",\"é\",\"â\",\"ä\",\"à\",\"å\",\"ç\",\"ê\",\"ë\",\"è\",\"ï\",\"î\",\"ì\",\"Ä\",\"Å\",\"É\",\"æ\",\"Æ\",\"ô\",\"ö\",\"ò\",\"û\",\"ù\",\"ÿ\",\"Ö\",\"Ü\",\"¢\",\"£\",\"¥\",\"₧\",\"ƒ\",\"á\",\"í\",\"ó\",\"ú\",\"ñ\",\"Ñ\",\"ª\",\"º\",\"¿\",\"⌐\",\"¬\",\"½\",\"¼\",\"¡\",\"«\",\"»\",\"░\",\"▒\",\"▓\",\"│\",\"┤\",\"╡\",\"╢\",\"╖\",\"╕\",\"╣\",\"║\",\"╗\",\"╝\",\"╜\",\"╛\",\"┐\",\"└\",\"┴\",\"┬\",\"├\",\"─\",\"┼\",\"╞\",\"╟\",\"╚\",\"╔\",\"╩\",\"╦\",\"╠\",\"═\",\"╬\",\"╧\",\"╨\",\"╤\",\"╥\",\"╙\",\"╘\",\"╒\",\"╓\",\"╫\",\"╪\",\"┘\",\"┌\",\"█\",\"▄\",\"▌\",\"▐\",\"▀\",\"α\",\"ß\",\"Γ\",\"π\",\"Σ\",\"σ\",\"µ\",\"τ\",\"Φ\",\"Θ\",\"Ω\",\"δ\",\"∞\",\"φ\",\"ε\",\"∩\",\"≡\",\"±\",\"≥\",\"≤\",\"⌠\",\"⌡\",\"÷\",\"≈\",\"°\",\"∙\",\"·\",\"√\",\"ⁿ\",\"²\",\"■\",\" \"]};\n\n//# sourceURL=webpack:///./src/codePage437.json?");

/***/ }),

/***/ "./src/components/CharButton.js":
/*!**************************************!*\
  !*** ./src/components/CharButton.js ***!
  \**************************************/
/*! exports provided: CharButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CharButton\", function() { return CharButton; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n/* harmony import */ var _HelpLine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HelpLine */ \"./src/components/HelpLine.js\");\n\n\n\n\n\nvar lastCharButton;\nvar charButtons = [];\n\nclass CharButton extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  constructor(x,y,c)\n  {\n    super(x,y,1,1);\n    this.c = c;\n    charButtons.push(this);\n    _HelpLine__WEBPACK_IMPORTED_MODULE_3__[\"HelpLine\"].help.assignHelpText(this, \"left click to set char\");\n  }\n  press(buttonId)\n  {\n    charButtons.forEach((b)=>{b.setDirty();});\n    _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.currentChar = this.c;\n    if(lastCharButton != undefined)\n      lastCharButton.setDirty();\n    lastCharButton = this;\n    this.setDirty();\n  }\n  render()\n  {\n    let current = this.c == _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.currentChar;\n    if(current)\n      lastCharButton = this;\n    _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].display.draw(this.x,this.y,this.c,current?\"black\":\"white\",current?\"white\":\"black\"); \n  }\n}\n\nCharButton.updateAll = () => {\n  charButtons.forEach(b=>{\n    b.setDirty();\n  });\n}\n\n//# sourceURL=webpack:///./src/components/CharButton.js?");

/***/ }),

/***/ "./src/components/ColorButton.js":
/*!***************************************!*\
  !*** ./src/components/ColorButton.js ***!
  \***************************************/
/*! exports provided: ColorButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorButton\", function() { return ColorButton; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n/* harmony import */ var _HelpLine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HelpLine */ \"./src/components/HelpLine.js\");\n\n\n\n\n\nvar lastBGButton;\nvar lastFGButton;\n\nvar colorButtons = [];\n\nclass ColorButton extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  constructor(x,y,w,h,color)\n  {\n    super(x,y,w,h);\n    this.color = color;\n    let colorArray = this.color;\n    let avgColor = (colorArray[0]+colorArray[1]+colorArray[2])/3;\n    this.textColor = avgColor<128?\"white\":\"black\";\n    colorButtons.push(this);\n    _HelpLine__WEBPACK_IMPORTED_MODULE_3__[\"HelpLine\"].help.assignHelpText(this, \"left click to set foreground / right click to set background\");\n  }\n  pointerOver(x,y)\n  {\n    this.over = true;\n    this.setDirty();\n  }\n  pointerOut()\n  {\n    this.over = false;\n    this.setDirty();\n  }\n\n  press(buttonId)\n  {\n    colorButtons.forEach((b)=>{b.setDirty();});\n    if(buttonId == 0)\n    {\n      if(lastFGButton != undefined)\n      {\n        lastFGButton.setDirty();\n      }\n      lastFGButton = this;\n      _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.currentFG = this.color;\n    }\n    else if(buttonId == 1)\n    {\n      if(lastBGButton != undefined)\n      {\n        lastBGButton.setDirty();\n      }\n      lastBGButton = this;\n      _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.currentBG = this.color;\n    }\n    this.setDirty();\n  }\n  render()\n  {\n    let t = \" \";\n    if(this.over) t = \"°\";\n    let c = _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].convertColor(this.color);\n    let cfg = _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].convertColor(_Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.currentFG);\n    let cbg = _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].convertColor(_Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.currentBG);\n    if(cfg == c) t = \"f\";\n    if(cbg == c) t = \"b\";\n    if(cfg == c && cbg == c) t = \"x\";\n    _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].display.draw(this.x, this.y,t,this.textColor, this.color);\n  }\n}\nColorButton.updateAll = () => {\n  colorButtons.forEach(b=>{\n    b.setDirty();\n  });\n}\n\n//# sourceURL=webpack:///./src/components/ColorButton.js?");

/***/ }),

/***/ "./src/components/CopyPasteArea.js":
/*!*****************************************!*\
  !*** ./src/components/CopyPasteArea.js ***!
  \*****************************************/
/*! exports provided: PasteHandler, CopyHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PasteHandler\", function() { return PasteHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CopyHandler\", function() { return CopyHandler; });\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n/* harmony import */ var _DrawUtilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DrawUtilities */ \"./src/DrawUtilities.js\");\n\n\n\n\n\nvar clipboard = {};\nclass PasteHandler extends _UIElements__WEBPACK_IMPORTED_MODULE_1__[\"UIBase\"]\n{\n  pointerOver(x,y)\n  {\n    this.offsetX = x;\n    this.offsetY = y;\n    this.setDirty();\n  }\n  press(buttonId)\n  {\n    if((buttonId+1) & 1 > 0)\n    {\n      // copy the clipboard cells into the layer\n      for(let k in clipboard)\n      {\n        var c = Object.assign({},clipboard[k]);\n        c.x += this.offsetX;\n        c.y += this.offsetY;\n        if(c.x > this.x+this.width-1 || c.y>this.y+this.height-1)\n          continue;\n        _Drawing__WEBPACK_IMPORTED_MODULE_0__[\"Drawing\"].currentDrawing.set(c.x,c.y,c);\n      }\n      this.setDirty();\n    }else\n    {\n     // changeMode(drawArea);\n      this.setDirty();\n    }\n  }\n  render()\n  {\n    // this could do some kind of diffing? Dunno.\n    let newDirtyCells = [];\n    let dirtyKeys = {};\n    // copy the clipboard into the display\n    for(let k in clipboard)\n    {\n      var c = Object.assign({},clipboard[k]);\n      c.x += this.offsetX;\n      c.y += this.offsetY;\n      if(c.x > this.x+this.width-1 || c.y>this.y+this.height-1)\n        continue;\n      dirtyKeys[c.x+\",\"+c.y] = true;\n      newDirtyCells.push([c.x,c.y]);\n      _Drawing__WEBPACK_IMPORTED_MODULE_0__[\"Drawing\"].currentDrawing.drawCellTemp(c);\n    }\n    // clear out the unupdated cells\n    if(this.lastCells!=undefined)\n    {\n      this.lastCells.forEach(function(p){\n        if(dirtyKeys[p[0]+\",\"+p[1]] == undefined)\n          _Drawing__WEBPACK_IMPORTED_MODULE_0__[\"Drawing\"].currentDrawing.redrawCell(p[0], p[1]);\n      });\n    }\n    this.lastCells = newDirtyCells;\n  }\n  cleanupOnExit()\n  {\n    if(this.lastCells!=undefined)\n    {\n      this.lastCells.forEach(function(p){\n          _Drawing__WEBPACK_IMPORTED_MODULE_0__[\"Drawing\"].currentDrawing.redrawCell(p[0], p[1]);\n      });\n    }\n  }\n}\n\nclass CopyHandler extends _UIElements__WEBPACK_IMPORTED_MODULE_1__[\"UIBase\"]\n{\n  press(buttonId, x,y)\n  {\n    this.pressDown |= (1<<buttonId);\n    this.startX = x;\n    this.startY = y;\n  }\n  release(buttonId, x,y)\n  {\n    this.pressDown = this.pressDown & ~(1<<buttonId);\n    // if the button that was released was the left click, capture the buffer\n    clipboard = {};\n    let bounds = this.getBounds();\n    for(let x=bounds[0]-16; x < bounds[0]+bounds[2];x++)\n    {\n      for(let y=bounds[1];y<bounds[1]+bounds[3];y++)\n      {\n        let k = x+\",\"+y;\n        let v = Object.assign({}, _Drawing__WEBPACK_IMPORTED_MODULE_0__[\"Drawing\"].currentDrawing.get(x,y));\n        v.x = x-bounds[0];\n        v.y = y-bounds[1];\n        clipboard[v.x+\",\"+v.y] = v;\n      }\n    }\n    this.endX = this.endY = this.startY = this.startX = 0;\n    this.setDirty();\n  }\n  pointerOver(x,y)\n  {\n    if(this.pressDown & 1)\n    {\n      this.endX = x;\n      this.endY = y;\n      this.setDirty();\n    }\n  }\n  render()\n  {\n    if(this.lastBound != undefined)\n    {\n      this.lastBound.forEach(function(p){\n        _Drawing__WEBPACK_IMPORTED_MODULE_0__[\"Drawing\"].currentDrawing.redrawCell(p[0]-16, p[1]);\n      });\n    }\n    this.lastBound = [];\n    if(this.pressDown & 1)\n    {\n      let bounds = this.getBounds();\n      this.lastBound = Object(_DrawUtilities__WEBPACK_IMPORTED_MODULE_3__[\"drawSquare\"])(bounds[0]-1,bounds[1]-1,bounds[2]+1,bounds[3]+1);\n    }\n  }\n  getBounds()\n  {\n      let x = Math.min(this.startX, this.endX);\n      let y = Math.min(this.startY, this.endY);\n      let w = Math.abs(this.endX - this.startX);\n      let h = Math.abs(this.endY - this.startY);\n      return [x,y,w,h];\n  }\n}\n\n//# sourceURL=webpack:///./src/components/CopyPasteArea.js?");

/***/ }),

/***/ "./src/components/DrawArea.js":
/*!************************************!*\
  !*** ./src/components/DrawArea.js ***!
  \************************************/
/*! exports provided: DrawArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawArea\", function() { return DrawArea; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _HelpLine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HelpLine */ \"./src/components/HelpLine.js\");\n\n\n\n\nclass DrawArea extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  constructor(x,y,w,h)\n  {\n    super(x,y,w,h);\n    this.buttonDown = 0;\n    _HelpLine__WEBPACK_IMPORTED_MODULE_2__[\"HelpLine\"].help.assignHelpText(this, \"left click to draw / right click to pick up color + char\");\n  }\n  draw(x,y)\n  {\n    _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.drawWithCurrentSettings(x,y);\n  }\n  performButtonOps(x,y)\n  {\n    x-=this.x;\n    if(this.pressDown & 1)\n    {\n      this.draw(x,y);\n    }\n    if(this.pressDown & 1 << 1)\n    {\n      _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.eyeDrop(x,y);\n    }\n  }\n  press(buttonId, x,y)\n  {\n    this.pressDown |= (1<<buttonId);\n    this.performButtonOps(x,y);\n  }\n  release(buttonId)\n  {\n    this.pressDown = this.pressDown & ~(1<<buttonId);\n  }\n  pointerOver(x,y)\n  {\n    this.performButtonOps(x,y);\n  }\n}\n\n//# sourceURL=webpack:///./src/components/DrawArea.js?");

/***/ }),

/***/ "./src/components/FillArea.js":
/*!************************************!*\
  !*** ./src/components/FillArea.js ***!
  \************************************/
/*! exports provided: FillArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FillArea\", function() { return FillArea; });\n/* harmony import */ var _DrawUtilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DrawUtilities */ \"./src/DrawUtilities.js\");\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n\n\n\n\n\nfunction floodFillScanline(x, y, width, height, diagonal, test, paint) {\n    // xMin, xMax, y, down[true] / up[false], extendLeft, extendRight\n    var ranges = [[x, x, y, null, true, true]];\n    paint(x, y);\n\n    while(ranges.length) {\n        var r = ranges.pop();\n        var down = r[3] === true;\n        var up =   r[3] === false;\n\n        // extendLeft\n        var minX = r[0];\n        var y = r[2];\n        if(r[4]) {\n            while(minX>0 && test(minX-1, y)) {\n                minX--;\n                paint(minX, y);\n            }\n        }\n        var maxX = r[1];\n        // extendRight\n        if(r[5]) {\n            while(maxX<width-1 && test(maxX+1, y)) {\n                maxX++;\n                paint(maxX, y);\n            }\n        }\n\n        if(diagonal) {\n            // extend range looked at for next lines\n            if(minX>0) minX--;\n            if(maxX<width-1) maxX++;\n        }\n        else {\n            // extend range ignored from previous line\n            r[0]--;\n            r[1]++;\n        }\n\n        function addNextLine(newY, isNext, downwards) {\n            var rMinX = minX;\n            var inRange = false;\n            for(var x=minX; x<=maxX; x++) {\n                // skip testing, if testing previous line within previous range\n                var empty = (isNext || (x<r[0] || x>r[1])) && test(x,newY);\n                if(!inRange && empty) {\n                    rMinX = x;\n                    inRange = true;\n                }\n                else if(inRange && !empty) {\n                    ranges.push([rMinX, x-1, newY, downwards, rMinX==minX, false]);\n                    inRange = false;\n                }\n                if(inRange) {\n                    paint(x, newY);\n                }\n                // skip\n                if(!isNext && x==r[0]) {\n                    x = r[1];\n                }\n            }\n            if(inRange) {\n                ranges.push([rMinX, x-1, newY, downwards, rMinX==minX, true]);\n            }\n        }\n\n        if(y<height-1)\n            addNextLine(y+1, !up, true);\n        if(y>0)\n            addNextLine(y-1, !down, false);\n    }\n}\n// http://will.thimbleby.net/scanline-flood-fill/\n\nclass FillArea extends _UIElements__WEBPACK_IMPORTED_MODULE_1__[\"UIBase\"]\n{\n  press(buttonId, x,y)\n  {\n    this.pressDown |= (1<<buttonId);\n    if((1<<buttonId) == 1)\n    {\n      if(this.tempBuffer != undefined)\n      {\n        this.tempBuffer.forEach((v)=>{\n          _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.drawWithCurrentSettings(v[0],v[1]);\n        });\n        this.lastBuffer = this.tempBuffer;\n      }\n    }\n    this.setDirty();\n  }\n  release(buttonId)\n  {\n    this.pressDown = this.pressDown & ~(1<<buttonId);\n  }\n  pointerOut()\n  {\n    // need to clear whatever temp drawing we have\n    this.tempBuffer = [];\n    this.setDirty();\n  }\n  pointerOver(x,y)\n  {\n    x-=this.x;\n    if(this.currentX == undefined || (this.currentX != x || this.currentY != y))\n    {\n      this.tempBuffer = [];\n      this.currentX = x;\n      this.currentY = y;\n      var startVal = _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.get(x,y);\n      //Drawing.currentDrawing.drawWithCurrentSettings(x,y);\n      this.tempBuffer = [];\n      //console.log(Drawing.currentDrawing);\n      //return;\n      this.filled = {};\n      console.log(startVal);\n      let count = 0;\n      floodFillScanline(x, y, _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.width, _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.height, false, (x,y)=>{\n        let n = _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.get(x,y);\n        if(count==0)\n        {\n          count++;\n          console.log(n);\n        }\n        return this.filled[x+\",\"+y] == undefined\n          && (n.char == startVal.char\n          && n.fgColor == startVal.fgColor\n          && n.bgColor == startVal.bgColor);   \n      }, (x,y)=>{\n        // store in a temp buffer\n        this.filled[x+\",\"+y] = true;\n        this.tempBuffer.push([x,y]);\n      });\n      this.setDirty();\n    }\n  }\n  render()\n  {\n    //return;\n    let cd = _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing;\n    cd.redrawAll();\n    if(this.tempBuffer != undefined)\n    {\n      this.tempBuffer.forEach((v)=>{\n        _Display__WEBPACK_IMPORTED_MODULE_3__[\"Display\"].display.draw(v[0]+16,v[1],cd.currentChar, cd.currentFG, cd.currentBG);\n      });\n      this.lastBuffer = this.tempBuffer;\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack:///./src/components/FillArea.js?");

/***/ }),

/***/ "./src/components/HelpLine.js":
/*!************************************!*\
  !*** ./src/components/HelpLine.js ***!
  \************************************/
/*! exports provided: HelpLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HelpLine\", function() { return HelpLine; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n\n\n\n\nclass HelpLine extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  constructor(x,y,w,h)\n  {\n    super(x,y,w,h);\n    HelpLine.help = this;\n    this.helpElements = {};\n    this.currentText = \"\";\n    let t = this;\n    _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"].hoverCallback = (e)=>{\n      this.updateCurrentHoveredElement(e);\n    }\n  }\n  assignHelpText(element, text)\n  {\n    this.helpElements[element.uid] = text;\n  }\n  updateCurrentHoveredElement(element)\n  {\n    if(this.helpElements[element.uid] != undefined)\n    {\n      this.currentText = this.helpElements[element.uid];\n    }\n    else\n    {\n      this.currentText = \"\";\n    }\n    this.setDirty();\n  }\n  render()\n  {\n    // clear then rerender text\n    for(let x = this.x; x < this.x+this.width;x++)\n    {\n      _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].display.draw(x, this.y, \" \", 0x000000, 0x000000);\n    }\n    _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].display.drawText(this.x, this.y, \"%c{white}\"+this.currentText);\n  }\n}\n\n//# sourceURL=webpack:///./src/components/HelpLine.js?");

/***/ }),

/***/ "./src/components/LayerPanel.js":
/*!**************************************!*\
  !*** ./src/components/LayerPanel.js ***!
  \**************************************/
/*! exports provided: LayerPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayerPanel\", function() { return LayerPanel; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n/* harmony import */ var _DrawUtilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DrawUtilities */ \"./src/DrawUtilities.js\");\n\n\n\n\n\n// what needs to happen:\n// display buttons that let you do the following:\n// add new layer button\n// rename layer\n// change layer order\n\nclass LayerLine extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  constructor(x,y,width,height)\n  {\n    super(x,y,width,height);\n    let renameButton = new _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"TextButton\"](this.x+1,this.y,\"H\");\n    this.addChild(renameButton);\n\n    let deleteButton = new _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"TextButton\"](this.x+this.width-1,this.y,\"X\");\n    this.addChild(deleteButton);\n    \n  }\n  render()\n  {\n    _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].display.drawText(this.x+3, this.y, \"%c{white}Placeholder\");\n  }\n}\nclass LayerPanel extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  constructor(x,y,width,height)\n  {\n    super(x,y,width,height)\n    this.layerLines = [];\n    let firstLayer = new LayerLine(this.x,this.y+this.height-1,this.width, 1);\n    this.addChild(firstLayer);\n    this.layerLines.push(firstLayer);\n  }\n  render()\n  {\n    _DrawUtilities__WEBPACK_IMPORTED_MODULE_3__[\"drawSquare\"](this.x, this.y, this.width, this.height);\n    _Display__WEBPACK_IMPORTED_MODULE_2__[\"Display\"].display.drawText(this.x+1, this.y, \"%c{white}Layers\");\n  }\n}\n\n//# sourceURL=webpack:///./src/components/LayerPanel.js?");

/***/ }),

/***/ "./src/components/LineDrawArea.js":
/*!****************************************!*\
  !*** ./src/components/LineDrawArea.js ***!
  \****************************************/
/*! exports provided: LineDrawArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineDrawArea\", function() { return LineDrawArea; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _DrawUtilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DrawUtilities */ \"./src/DrawUtilities.js\");\n\n\n\n\nclass LineDrawArea extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  press(buttonId, x,y)\n  {\n    x-=this.x;\n    this.pressDown |= (1<<buttonId);\n    if((1<<buttonId) == 2)\n    {\n      _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.eyeDrop(x,y);\n      return;\n    }\n    this.endX = this.startX = x;\n    this.endY = this.startY = y;\n    this.setDirty();\n  }\n  release(buttonId)\n  {\n    if((1<<buttonId) == 1)\n    {\n      let drawPoints = _DrawUtilities__WEBPACK_IMPORTED_MODULE_2__[\"calculateLine\"](this.startX, this.startY, this.endX, this.endY);\n      drawPoints.forEach(function(p){\n        _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.drawWithCurrentSettings(p[0],p[1]);\n      });\n    }\n    this.pressDown = this.pressDown & ~(1<<buttonId);\n  }\n  pointerOver(x,y)\n  {\n    if(this.pressDown & 1<<0)\n    {\n      x-=this.x;\n      this.endX = x;\n      this.endY = y;\n      this.setDirty();\n    }\n  }\n  render()\n  {\n    if(this.pressDown & 1<<0)\n    {\n      if(this.lastPointSet != undefined)\n      {\n        this.lastPointSet.forEach(function(p){\n          // set back to the layer color\n          _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.redrawCell(p[0], p[1]);\n        });\n      }\n      this.lastPointSet = [];\n      let drawPoints = _DrawUtilities__WEBPACK_IMPORTED_MODULE_2__[\"calculateLine\"](this.startX, this.startY, this.endX, this.endY);\n      let e = this;\n      drawPoints.forEach(function(p){\n        _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.drawTempWithCurrentSettings(p[0], p[1]);\n        e.lastPointSet.push(p);\n      });\n    }\n  }\n}\n\n\n//# sourceURL=webpack:///./src/components/LineDrawArea.js?");

/***/ }),

/***/ "./src/components/ModeButton.js":
/*!**************************************!*\
  !*** ./src/components/ModeButton.js ***!
  \**************************************/
/*! exports provided: ModeButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ModeButton\", function() { return ModeButton; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Display */ \"./src/Display.js\");\n\n\n\nvar lastModeButton;\n\nvar allButtons = [];\nclass ModeButton extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"TextButton\"]\n{\n  constructor(x,y,text,mode,changeMode)\n  {\n    super(x,y,text);\n    this.mode = mode;\n    this.changeMode = changeMode;\n    allButtons.push(this);\n  }\n  press()\n  {\n    if(lastModeButton != undefined)\n      lastModeButton.setDirty();\n    lastModeButton = this;\n    this.setDirty();\n    allButtons.forEach((b)=>{\n      b.activeMode = false;\n      b.setDirty();\n    });\n    this.changeMode(this.mode);\n    this.activeMode = true;\n  }\n  render()\n  {    \n    if(this.activeMode)\n    {\n      this.textColor = \"orange\";\n    }\n    else\n    {\n      this.textColor = \"white\";\n    }\n    _Display__WEBPACK_IMPORTED_MODULE_1__[\"Display\"].display.drawText(this.x,this.y,\"%c{\"+this.textColor+\"}\"+this.text);\n  }\n}\n\n\n//# sourceURL=webpack:///./src/components/ModeButton.js?");

/***/ }),

/***/ "./src/components/RectDrawArea.js":
/*!****************************************!*\
  !*** ./src/components/RectDrawArea.js ***!
  \****************************************/
/*! exports provided: RectDrawArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RectDrawArea\", function() { return RectDrawArea; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var _DrawUtilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DrawUtilities */ \"./src/DrawUtilities.js\");\n\n\n\n\nclass RectDrawArea extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  press(buttonId, x,y)\n  {\n    x-=this.x;\n    this.pressDown |= (1<<buttonId);\n    if((1<<buttonId) == 2)\n    {\n      _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.eyeDrop(x,y);\n      return;\n    }\n    this.endX = this.startX = x;\n    this.endY = this.startY = y;\n    this.setDirty();\n  }\n  release(buttonId)\n  {\n    if((1<<buttonId) == 1)\n    {\n      let e = this;\n      let drawPoints = _DrawUtilities__WEBPACK_IMPORTED_MODULE_2__[\"getSquareCells\"](this.startX, this.startY, this.endX-this.startX, this.endY-this.startY);\n      drawPoints.forEach(function(p){\n        _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.drawWithCurrentSettings(p[0], p[1]);\n        e.lastPointSet.push(p);\n      });\n    }\n    this.pressDown = this.pressDown & ~(1<<buttonId);\n  }\n  pointerOver(x,y)\n  {\n    if(this.pressDown & 1<<0)\n    {\n      x-=this.x;\n      this.endX = x;\n      this.endY = y;\n      this.setDirty();\n    }\n  }\n  render()\n  {\n    if(this.pressDown & 1<<0)\n    {\n      if(this.lastPointSet != undefined)\n      {\n        this.lastPointSet.forEach(function(p){\n          // set back to the layer color\n          _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.redrawCell(p[0], p[1]);\n        });\n      }\n      this.lastPointSet = [];\n      let drawPoints = _DrawUtilities__WEBPACK_IMPORTED_MODULE_2__[\"getSquareCells\"](this.startX, this.startY, this.endX-this.startX, this.endY-this.startY);\n      let e = this;\n      drawPoints.forEach(function(p){\n        _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.drawTempWithCurrentSettings(p[0], p[1]);\n        e.lastPointSet.push(p);\n      });\n    }\n  }\n}\n\n\n//# sourceURL=webpack:///./src/components/RectDrawArea.js?");

/***/ }),

/***/ "./src/components/TextInputArea.js":
/*!*****************************************!*\
  !*** ./src/components/TextInputArea.js ***!
  \*****************************************/
/*! exports provided: TextInputArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextInputArea\", function() { return TextInputArea; });\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Drawing */ \"./src/Drawing.js\");\n\n\n\nclass TextInputArea extends _UIElements__WEBPACK_IMPORTED_MODULE_0__[\"UIBase\"]\n{\n  press(buttonId, x,y)\n  {\n    if((1<<buttonId) == 2)\n    {\n      _Drawing__WEBPACK_IMPORTED_MODULE_1__[\"Drawing\"].currentDrawing.eyeDrop(x,y);\n    }\n    else\n    {\n      this.insertX = x;\n      this.initialX = x;\n      this.insertY = y;\n    }\n    this.setDirty();\n  }\n  keypress(keyCode, e)\n  {\n    if(this.insertX == undefined)\n      return;\n    // don't insert nonsense\n    if(keyCode == 17 || keyCode == 18)\n    {\n      return;\n    }\n    // if we are moving with the arrows\n    let dir = keyCode - 37;\n    if(dir >= 0 && dir < 4)\n    {\n      switch(dir)\n      {\n        case 0:\n          this.insertX--;\n          break;\n        case 1:\n          this.insertY--;\n          break;\n        case 2:\n          this.insertX++;\n          break;\n        default:\n          this.insertY++;\n          break;\n      }\n      this.setDirty();\n      return;\n    }\n    // handle backspace\n    if(keyCode == 8)\n    {\n      drawToLayer(--this.insertX,this.insertY,' ',\"black\",\"black\");\n      this.setDirty();\n      return;\n    }\n    // return\n    if(keyCode == 13)\n    {\n      this.insertX = this.initialX;\n      this.insertY++;\n      this.setDirty();\n      return;\n    }\n    let char = e.key;\n    drawToLayer(this.insertX++,this.insertY,char,currentFgColor,currentBgColor);\n    this.setDirty();\n  }\n  render()\n  {\n    if(this.insertX == undefined)\n      return;\n    if(this.lastCursor != undefined)\n      redrawCell(this.lastCursor[0], this.lastCursor[1]);\n    this.lastCursor = [this.insertX, this.insertY];\n    // render a cursor\n    d.draw(this.insertX, this.insertY, '|', currentFgColor, currentBgColor); \n  }\n}\n\n//# sourceURL=webpack:///./src/components/TextInputArea.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Display */ \"./src/Display.js\");\n/* harmony import */ var _UIElements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UIElements */ \"./src/UIElements.js\");\n/* harmony import */ var _Drawing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Drawing */ \"./src/Drawing.js\");\n/* harmony import */ var rot_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rot-js */ \"../rbd/pnpm-volume/8d36bd76-da56-4143-81e6-fc4606765fd0/node_modules/.registry.npmjs.org/rot-js/2.0.2/node_modules/rot-js/lib/index.js\");\n/* harmony import */ var _components_DrawArea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/DrawArea */ \"./src/components/DrawArea.js\");\n/* harmony import */ var _components_FillArea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/FillArea */ \"./src/components/FillArea.js\");\n/* harmony import */ var _components_LineDrawArea__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/LineDrawArea */ \"./src/components/LineDrawArea.js\");\n/* harmony import */ var _components_CopyPasteArea__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/CopyPasteArea */ \"./src/components/CopyPasteArea.js\");\n/* harmony import */ var _components_TextInputArea__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/TextInputArea */ \"./src/components/TextInputArea.js\");\n/* harmony import */ var _components_RectDrawArea__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/RectDrawArea */ \"./src/components/RectDrawArea.js\");\n/* harmony import */ var _components_ModeButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/ModeButton */ \"./src/components/ModeButton.js\");\n/* harmony import */ var _components_ColorButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/ColorButton */ \"./src/components/ColorButton.js\");\n/* harmony import */ var _components_CharButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/CharButton */ \"./src/components/CharButton.js\");\n/* harmony import */ var _components_LayerPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/LayerPanel */ \"./src/components/LayerPanel.js\");\n/* harmony import */ var _components_HelpLine__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/HelpLine */ \"./src/components/HelpLine.js\");\n/* harmony import */ var _DrawUtilities__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DrawUtilities */ \"./src/DrawUtilities.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst codePage437 = __webpack_require__(/*! ./codePage437.json */ \"./src/codePage437.json\");\nconst baseColors = __webpack_require__(/*! ./baseColors.json */ \"./src/baseColors.json\").colors;\n\nvar imgReady = false;\n//var tileSet = \"https://cdn.glitch.com/8d36bd76-da56-4143-81e6-fc4606765fd0%2Fc64_petscii.png?1545184518628\";\nvar tileSet = \"https://cdn.glitch.com/3a552aa6-77c2-462f-b211-c1e0fca2d303%2Foie_transparent.png?1544837688896\"\nvar tilemap = {};\n\nfor (let x = 0; x < 16; x++)\n{\n  for(let y = 0; y < 16; y++)\n  {\n    let charVal = codePage437.characters[x+y*16];\n    tilemap[charVal] = [x*10, y*16];\n  }\n}\n\nvar o = {\n  layout: \"tile\",\n  bg: \"black\",\n  tileWidth: 10,\n  tileHeight: 16,\n  tileColorize: true,\n\twidth: 80,\n\theight: 42,\n  tileSet: tileSet,\n  tileMap: tilemap\n}\n//https://cdn.glitch.com/3a552aa6-77c2-462f-b211-c1e0fca2d303%2Fcp437_10x16_terminal.png?1543891565805\nvar d = new _Display__WEBPACK_IMPORTED_MODULE_0__[\"Display\"](o);\n_Display__WEBPACK_IMPORTED_MODULE_0__[\"Display\"].display = d;\n\nfor(var x=0;x<o.width;x++)\n{\n  for(var y=0;y<o.height;y++)\n  {\n    d.draw(x,y,\" \",0x00,0x00);\n  }\n}\nfor(var x=0;x<o.width;x++)\n{\n  d.draw(x,40,\" \", 0x00, 0x222222);\n}\ndocument.body.appendChild(d.getContainer());\n\nvar drawing = new _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"](80-16,40);\n_Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing = drawing;\nvar foundServerData = false;\nvar path = window.location.pathname.split('/');\nif(path.length == 2)\n{\n  var n = parseInt(path[1]);\n  if(n.toString() == path[1])\n  {\n    foundServerData = true;\n        const url='/load/'+n;\n\n    fetch(url) // Call the fetch function passing the url of the API as a parameter\n    .then(function(resp) {\n      resp.json().then(function(data) {\n        drawing.setData(data);\n        // do the initial draw\n        drawing.redrawAll();\n      });\n\n        // Your code for handling the data you get from the API\n    })\n    .catch(function() {\n        // This is where you run code if the server returns any errors\n    });\n  }\n}\n\nvar storageContents = window.localStorage.getItem(\"currentBuffer\");\n\nif(foundServerData)\n{\n}\nelse if(storageContents == undefined || storageContents == \"undefined\")\n{\n  _Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.clear();\n}\nelse\n{\n  drawing.deserialize(storageContents);\n}\n\n// do the initial draw\n_Drawing__WEBPACK_IMPORTED_MODULE_2__[\"Drawing\"].currentDrawing.redrawAll();\n\n\nwindow.onbeforeunload = function (e) {\n  window.localStorage.setItem(\"currentBuffer\", drawing.serialize());\n};\n\n/// SETUP UI COMPONENTS ///\nvar rootUI = new _UIElements__WEBPACK_IMPORTED_MODULE_1__[\"UIBase\"](0,0,80,40);\nrootUI.addChild(new _components_HelpLine__WEBPACK_IMPORTED_MODULE_14__[\"HelpLine\"](0,41,80,1));\n\n//var layerPanel = new LayerPanel(79,0,16,10);\nvar drawArea = new _components_DrawArea__WEBPACK_IMPORTED_MODULE_4__[\"DrawArea\"](16,0,64,40);\nvar lineDrawArea = new _components_LineDrawArea__WEBPACK_IMPORTED_MODULE_6__[\"LineDrawArea\"](16,0,64,40);\nvar rectDrawArea = new _components_RectDrawArea__WEBPACK_IMPORTED_MODULE_9__[\"RectDrawArea\"](16,0,64,40);\nvar copyArea = new _components_CopyPasteArea__WEBPACK_IMPORTED_MODULE_7__[\"CopyHandler\"](16,0,64,40);\nvar pasteArea = new _components_CopyPasteArea__WEBPACK_IMPORTED_MODULE_7__[\"PasteHandler\"](16,0,64,40);\nvar textInputArea = new _components_TextInputArea__WEBPACK_IMPORTED_MODULE_8__[\"TextInputArea\"](16,0,64,40);\nvar fillArea = new _components_FillArea__WEBPACK_IMPORTED_MODULE_5__[\"FillArea\"](16,0,64,40);\n\n\n\n//rootUI.addChild(layerPanel);\n\nvar currentMode = drawArea;\nrootUI.addChild(drawArea);\n\nvar changeMode = function(newMode)\n{\n  if(currentMode.cleanupOnExit != undefined)\n  {\n    currentMode.cleanupOnExit();\n  }\n  rootUI.removeChild(currentMode);\n  rootUI.addChild(newMode);\n  currentMode = newMode;\n}\nvar setupModeButton = function(text, mode, help)\n{\n  let mb = new _components_ModeButton__WEBPACK_IMPORTED_MODULE_10__[\"ModeButton\"](1, inputYPosition++, text,mode,changeMode);\n  rootUI.addChild(mb);\n  if(text == \"Draw\")\n  {\n    mb.press();\n  }\n  _components_HelpLine__WEBPACK_IMPORTED_MODULE_14__[\"HelpLine\"].help.assignHelpText(mb, help);\n}\nvar modeButtons = [\n  [\"Draw\", drawArea, \"draw characters\"],\n  [\"Line\", lineDrawArea, \"draw lines\"],\n  [\"Rect\", rectDrawArea, \"create filled rectangles\"],\n  [\"Text\", textInputArea, \"write text\"],\n  [\"Copy\", copyArea, \"copy from canvas\"],\n  [\"Paste\", pasteArea, \"paste to canvas\"],\n  [\"Fill\", fillArea, \"fill area / paint bucket\"],\n];\n\nlet inputYPosition = 29;\nmodeButtons.forEach((mb)=>{\n  setupModeButton(mb[0],mb[1],mb[2]);\n});\n\ninputYPosition++;\n\nconst copyToClipboard = str => {\n  const el = document.createElement('textarea');\n  el.value = str;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n};\n\nvar saveButton = new _UIElements__WEBPACK_IMPORTED_MODULE_1__[\"TextButton\"](1,inputYPosition++,\"Share\");\n_components_HelpLine__WEBPACK_IMPORTED_MODULE_14__[\"HelpLine\"].help.assignHelpText(saveButton, \"Stores to database, creates unique url for sharing\");\nsaveButton.press = function(){\n  var xhr = new XMLHttpRequest();\n  var url = \"/save\";\n  xhr.open(\"POST\", url, true);\n  xhr.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\");\n  xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        window.location.href = \"/\" + xhr.responseText;\n      }\n  };\n  var data = drawing.serialize();\n  xhr.send(data);\n};\nrootUI.addChild(saveButton);\n\ninputYPosition++;\n\nvar clearCanvasButton = new _UIElements__WEBPACK_IMPORTED_MODULE_1__[\"TextButton\"](1,inputYPosition++,\"Clear Canvas\");\n_components_HelpLine__WEBPACK_IMPORTED_MODULE_14__[\"HelpLine\"].help.assignHelpText(clearCanvasButton, \"Clears the current drawing, start fresh. There is no confirmation!!!\");\nclearCanvasButton.press = function(){drawing.clear();};\nrootUI.addChild(clearCanvasButton);\n\n\nvar colorButtons = [];\nfor (let x = 0; x < 16; x++)\n{\n  for(let y = 0; y < 12; y++)\n  {\n    let bColor = baseColors[x+y*16];\n    let c = (bColor[0]&0xff)\n        | (bColor[1]&0xff)<<8\n        | (bColor[2]&0xff)<<16\n        | 0xff < 24;\n    let cb = new _components_ColorButton__WEBPACK_IMPORTED_MODULE_11__[\"ColorButton\"](x,y,1,1, bColor);\n    colorButtons.push(cb);\n    rootUI.addChild(cb);\n  }\n}\n\n// add character buttons\nvar charButtons = [];\nfor (let x = 0; x < 16; x++)\n{\n  for(let y = 0; y < 16; y++)\n  {\n    let charVal = codePage437.characters[x+y*16];\n    let cb = new _components_CharButton__WEBPACK_IMPORTED_MODULE_12__[\"CharButton\"](x,y+12,charVal);\n    charButtons.push(cb);\n    rootUI.addChild(cb);\n  }\n}  \n \nvar mousePressed = false;\nvar currentFgColor = 0xffffff;\nvar currentBgColor = 0x000000;\nvar currentChar = \"-\";\n\n/// INPUT HANDLING ///\nvar lastButtonState = 0;\nd.getContainer().oncontextmenu = function(e){return false;};\nd.getContainer().onmousemove = function(e)\n{\n  let p = d.eventToPosition(e);\n  rootUI.processMove(p[0], p[1]);\n}\nd.getContainer().onmousedown = function(e)\n{\n  let p = d.eventToPosition(e);\n  lastButtonState = e.buttons;\n  rootUI.processPress(p[0], p[1],e.buttons==1?0:1);\n}\nd.getContainer().onmouseup = function(e)\n{\n  let p = d.eventToPosition(e);\n  let buttonUp = lastButtonState & (~e.buttons);\n  rootUI.processRelease(p[0], p[1],buttonUp==1?0:1);\n  lastButtonState = e.buttons;\n}\nvar shiftDown = false;\ndocument.onkeydown = function(e)\n{\n  if(e.keyCode == 16)\n  {\n    shiftDown = true;\n    return;\n  }\n  if(e.keyCode >= 37 && e.keyCode < 41)\n  {\n    e.preventDefault();\n  }\n  rootUI.processKeyPress(e.keyCode, e);\n}\ndocument.onkeyup = function(e)\n{\n  if(e.keyCode == 16)\n  {\n    shiftDown = false;\n  }\n}\n\nvar updateDisplay = function()\n{\n  // draw the ui\n  // now that everything needs to mark itself as dirty first,\n  // we can call this every frame\n  rootUI.renderLoop();\n  requestAnimationFrame(()=>{updateDisplay()});\n\n}\nupdateDisplay();\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ })

/******/ });